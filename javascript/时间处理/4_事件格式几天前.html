<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>4_事件格式几天前</title>
  <meta name="viewport" content="width=device-width">
</head>
<body>

<script>
function formatTime(time) {
    if (time > 0) {
        let result
        time = parseInt(time) * 1000;
        let minute = 1000 * 60;
        let hour = minute * 60;
        let day = hour * 24;
        let month = day * 30;
        let now = new Date().getTime();
        let diffValue = now - time;
        if (diffValue < 0) {
            return
        }
        let monthC = diffValue / month;
        let weekC = diffValue / (7 * day);
        let dayC = diffValue / day;
        let hourC = diffValue / hour;
        let minC = diffValue / minute;
        if(monthC >= 1){
            if(monthC <= 12) {
                result="" + parseInt(monthC) + "月前";
            } else {
                result="" + parseInt(monthC / 12) + "年前";
            }
        } else if (weekC >= 1){
            result="" + parseInt(weekC) + "周前";
        } else if (dayC >= 1) {
            result=""+ parseInt(dayC) +"天前";
        } else if (hourC >= 1) {
            result=""+ parseInt(hourC) +"小时前";
        } else if (minC >= 1)  {
            result=""+ parseInt(minC) +"分钟前";
        } else {
            result="刚刚";
        }
        return result
    } else {
        return '';
    }
}


console.log(formatTime(1141370101))
</script>
</body>
</html>
