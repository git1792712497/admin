import{B as e}from"./TableImg-d2c728a3.js";import{T as o}from"./useForm-76a4ff23.js";import{u as s}from"./useTable-0a379cac.js";import{n as t,o as a}from"./system-54dc9bf1.js";import{a as i,ab as n,o as r,h as c,n as l,H as d,j as m,k as u,l as p,K as f,S as b}from"./index-c5a6c875.js";import{u as j}from"./index-c9e02f09.js";import{c as h,s as g,_ as y}from"./ParamModal-73a9b8d1.js";import"./index-33df9098.js";import"./onMountedOrActivated-48cd1b25.js";import"./useWindowSizeFn-72c85a53.js";import"./useContentViewHeight-e138bd2a.js";import"./CheckOutlined-752df576.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./uuid-f62a8acd.js";import"./merge-5148c4a3.js";import"./get-8f9589fb.js";import"./sortable.esm-7c85b602.js";import"./RedoOutlined-e07a9f51.js";import"./FullscreenOutlined-9b414b92.js";import"./index-bb91fa2a.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const x=f(" 新增参数 "),C=i({setup(i){const{createMessage:f}=b(),[C,{openModal:v}]=j(),[w,{reload:k}]=s({api:t,columns:h,formConfig:{labelWidth:120,schemas:g},useSearchForm:!0,actionColumn:{width:160,title:"操作",dataIndex:"action"}});function R(){v(!0,{isUpdate:!1})}function F(e){v(!0,{record:e,isUpdate:!0})}function I(e){return o=this,s=null,t=function*(){yield a({ids:e.id}),f.success("操作成功"),k()},new Promise(((e,a)=>{var i=e=>{try{r(t.next(e))}catch(o){a(o)}},n=e=>{try{r(t.throw(e))}catch(o){a(o)}},r=o=>o.done?e(o.value):Promise.resolve(o.value).then(i,n);r((t=t.apply(o,s)).next())}));var o,s,t}function M(){f.success("操作成功"),k()}return(s,t)=>{const a=n("a-button");return r(),c("div",null,[l(u(e),{onRegister:u(w)},{toolbar:d((()=>[l(a,{type:"primary",onClick:R},{default:d((()=>[x])),_:1})])),bodyCell:d((({column:e,record:s})=>["action"===e.dataIndex?(r(),m(u(o),{key:0,actions:[{label:"编辑",icon:"clarity:note-edit-line",onClick:F.bind(null,s)},{label:"删除",icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:I.bind(null,s)}}]},null,8,["actions"])):p("",!0)])),_:1},8,["onRegister"]),l(y,{onRegister:u(C),onSuccess:M},null,8,["onRegister"])])}}});export{C as default};
