var e=(e,s,o)=>new Promise(((t,a)=>{var r=e=>{try{n(o.next(e))}catch(s){a(s)}},i=e=>{try{n(o.throw(e))}catch(s){a(s)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,i);n((o=o.apply(e,s)).next())}));import{a as s,B as o}from"./index-c9e02f09.js";import{u as t,B as a,l as r}from"./useForm-76a4ff23.js";import{a as i,o as n,j as l,H as c,n as u,k as d,ag as p,S as m}from"./index-c5a6c875.js";import"./useWindowSizeFn-72c85a53.js";import"./FullscreenOutlined-9b414b92.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./index-bb91fa2a.js";import"./get-8f9589fb.js";import"./uuid-f62a8acd.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const f=i({emits:["success"],setup(i,{emit:f}){const b=[{field:"code",component:"Input",label:"资源编号"},{field:"backgroundUrl",component:"Upload",label:"上传背景",rules:[{required:!0,message:"请选择上传文件"}],componentProps:({formModel:e})=>({api:r,multiple:!1,uploadParams:{code:e.code}})}],{createMessage:j}=m(),[g,{setFieldsValue:h,resetFields:x,getFieldsValue:w}]=t({labelWidth:100,schemas:b,showActionButtonGroup:!1,baseColProps:{span:24},actionColOptions:{span:23}}),[F,{setModalProps:P}]=s((s=>e(this,null,(function*(){x(),P({confirmLoading:!1}),h({code:s.record.ossCode})}))));function v(){return e(this,null,(function*(){const e=w();j.success("获取到图片地址【"+e.backgroundUrl[0]+"】"),f("success")}))}return(e,s)=>(n(),l(d(o),p(e.$attrs,{onRegister:d(F),title:"调试上传",onOk:v,width:900}),{default:c((()=>[u(d(a),{onRegister:d(g)},null,8,["onRegister"])])),_:1},16,["onRegister"]))}});export{f as default};
