var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,r=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&i(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&i(e,a,t[a]);return e},s=(e,t,a)=>new Promise(((l,n)=>{var o=e=>{try{r(a.next(e))}catch(t){n(t)}},i=e=>{try{r(a.throw(e))}catch(t){n(t)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,i);r((a=a.apply(e,t)).next())}));import{cP as d,bj as c,a as u,w as m,k as p,f,o as b,j as v,H as I,E as y,G as g,i as x,n as j,ag as O}from"./index-c5a6c875.js";import{a as P,B as h}from"./index-c9e02f09.js";import{u as N,B as w}from"./useForm-76a4ff23.js";import{g as k,a as R}from"./tenant-2dbceb61.js";import{u as D,D as T}from"./index-2c15cc4f.js";const _=[{title:"租户ID",dataIndex:"tenantId"},{title:"租户名称",dataIndex:"tenantName"},{title:"联系人",dataIndex:"linkman"},{title:"联系电话",dataIndex:"contactNumber"},{title:"账号额度",dataIndex:"accountNumber",customRender:({record:e})=>{let t=e.accountNumber;return e.accountNumber>0||(t="不限制"),d(c,{color:"blue"},(()=>t))}},{title:"过期时间",dataIndex:"expireTime",customRender:({record:e})=>{let t=e.expireTime;return e.expireTime||(t="不限制"),d(c,{color:"blue"},(()=>t))}},{title:"绑定域名",dataIndex:"domainUrl"}],B=[{field:"tenantId",label:"租户ID",component:"Input",colProps:{span:8}},{field:"tenantName",label:"租户名称",component:"Input",colProps:{span:8}},{field:"linkman",label:"联系人",component:"Input",colProps:{span:8}}],U=[{field:"tenantName",label:"租户名称",component:"Input",required:!0},{field:"linkman",label:"联系人",component:"Input",required:!0},{field:"contactNumber",label:"联系电话",component:"Input"},{field:"address",label:"联系地址",component:"Input"},{field:"domainUrl",label:"绑定域名",component:"Input"}],F=[{field:"tenantId",label:"租户ID"},{field:"tenantName",label:"租户名称"},{field:"linkman",label:"联系人"},{field:"contactNumber",label:"联系电话"},{field:"address",label:"联系地址"},{field:"accountNumber",label:"账号额度"},{field:"expireTime",label:"过期时间"},{field:"domainUrl",label:"绑定域名"}],L=u({emits:["success","register"],setup(e,{emit:l}){const n=m(!0),o=m(!0),i=m(""),[d,{setDescProps:c}]=D({schema:F}),[u,{setFieldsValue:_,resetFields:B,validate:L}]=N({labelWidth:100,schemas:U,showActionButtonGroup:!1,actionColOptions:{span:23},baseColProps:{span:24}}),[M,{setModalProps:S,closeModal:q}]=P((e=>s(this,null,(function*(){if(B(),o.value=!!(null==e?void 0:e.isUpdate),n.value=!!(null==e?void 0:e.isDetail),p(n)){const t=yield k({id:e.record.id});c({data:t})}else if(p(o)){i.value=e.record.id;const t=yield k({id:e.record.id});_(r({},t))}S({confirmLoading:!1})})))),z=f((()=>p(o)?"编辑租户":"新增租户"));function C(){return s(this,null,(function*(){try{const s=yield L();S({confirmLoading:!0}),p(o)&&(s.id=i.value),yield R(s),q(),l("success",{isUpdate:p(o),values:(e=r({},s),n={id:i.value},t(e,a(n)))})}finally{S({confirmLoading:!1})}var e,n}))}return(e,t)=>(b(),v(p(h),O(e.$attrs,{onRegister:p(M),title:p(z),showOkBtn:!n.value,onOk:C}),{default:I((()=>[y(x("div",null,[j(p(T),{size:"middle",onRegister:p(d),column:1},null,8,["onRegister"])],512),[[g,n.value]]),y(x("div",null,[j(p(w),{onRegister:p(u)},null,8,["onRegister"])],512),[[g,!n.value]])])),_:1},16,["onRegister","title","showOkBtn"]))}}),M=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{M as T,L as _,_ as c,B as s};
