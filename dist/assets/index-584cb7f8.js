var e=(e,o,i)=>new Promise(((s,t)=>{var a=e=>{try{r(i.next(e))}catch(o){t(o)}},n=e=>{try{r(i.throw(e))}catch(o){t(o)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,n);r((i=i.apply(e,o)).next())}));import{B as o}from"./TableImg-d2c728a3.js";import{m as i,T as s,r as t,n as a}from"./useForm-76a4ff23.js";import{u as n}from"./useTable-0a379cac.js";import{u as r}from"./index-c9e02f09.js";import{c as l,s as c,_ as d}from"./CodeModal-77bbf8aa.js";import u from"./DebuggerModal-e6fd88a6.js";import{a as m,ab as p,ac as f,o as b,h as j,n as h,H as g,E as y,j as x,K as C,t as _,k as v,bj as k,l as w,S as R}from"./index-c5a6c875.js";import"./index-33df9098.js";import"./onMountedOrActivated-48cd1b25.js";import"./useWindowSizeFn-72c85a53.js";import"./useContentViewHeight-e138bd2a.js";import"./CheckOutlined-752df576.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./uuid-f62a8acd.js";import"./merge-5148c4a3.js";import"./get-8f9589fb.js";import"./sortable.esm-7c85b602.js";import"./RedoOutlined-e07a9f51.js";import"./FullscreenOutlined-9b414b92.js";import"./index-bb91fa2a.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";import"./index-2c15cc4f.js";const M=C(" 新增 "),D=m({setup(m){const{createMessage:D}=R(),{success:I}=D,[F,{openModal:O}]=r(),[S,{openModal:T}]=r(),[U,{reload:q,updateTableDataRecord:E}]=n({api:i,rowKey:"id",columns:l,formConfig:{labelWidth:120,schemas:c},useSearchForm:!0,actionColumn:{width:400,title:"操作",dataIndex:"action"}});function B(){O(!0,{isDetail:!1,isUpdate:!1})}function H(e){O(!0,{record:e,isUpdate:!1,isDetail:!0})}function K(e){O(!0,{record:e,isDetail:!1,isUpdate:!0})}function P(e){T(!0,{record:e})}function W(o){return e(this,null,(function*(){yield t({ids:o.id}),I("操作成功"),q()}))}function z(o){return e(this,null,(function*(){yield a({id:o.id}),I("启用成功"),q()}))}function A({isUpdate:e,values:o}){I("操作成功"),e?E(o.id,o):q()}return(e,i)=>{const t=p("a-button"),a=f("auth");return b(),j("div",null,[h(v(o),{onRegister:v(U)},{toolbar:g((()=>[y((b(),x(t,{type:"primary",onClick:B},{default:g((()=>[M])),_:1})),[[a,"oss_add"]])])),bodyCell:g((({column:e,record:o})=>["status"===e.dataIndex?(b(),x(v(k),{key:0,color:"success"},{default:g((()=>[C(_(o.statusName),1)])),_:2},1024)):w("",!0),"action"===e.dataIndex?(b(),x(v(s),{key:1,actions:[{auth:"oss_view",label:"查看",color:"success",icon:"clarity:info-standard-line",onClick:H.bind(null,o)},{auth:"oss_edit",label:"编辑",icon:"clarity:note-edit-line",onClick:K.bind(null,o)},{auth:"oss_delete",label:"删除",icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:W.bind(null,o)}},{label:"调试",icon:"clarity:scissors-line",onClick:P.bind(null,o)},{auth:"oss_enable",label:"启用",icon:"ant-design:play-circle-outlined",popConfirm:{title:"是否启用这条配置",confirm:z.bind(null,o)}}]},null,8,["actions"])):w("",!0)])),_:1},8,["onRegister"]),h(d,{onRegister:v(F),onSuccess:A},null,8,["onRegister"]),h(u,{onRegister:v(S)},null,8,["onRegister"])])}}});export{D as default};
