var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,l=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&s(e,t,a[t]);if(r)for(var t of r(a))n.call(a,t)&&s(e,t,a[t]);return e},i=(e,a,t)=>new Promise(((r,o)=>{var n=e=>{try{l(t.next(e))}catch(a){o(a)}},s=e=>{try{l(t.throw(e))}catch(a){o(a)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,s);l((t=t.apply(e,a)).next())}));import{a as p,B as c}from"./index-c9e02f09.js";import{u as d,B as u}from"./useForm-76a4ff23.js";import{l as m,m as f}from"./system-54dc9bf1.js";import{a as y,w as b,k as v,f as g,o as j,j as O,H as P,n as h,ag as x}from"./index-c5a6c875.js";const I=[{title:"参数名称",dataIndex:"paramName"},{title:"参数键名",dataIndex:"paramKey"},{title:"参数键值",dataIndex:"paramValue"}],w=[{field:"paramName",label:"参数名称",component:"Input",colProps:{span:8}},{field:"paramKey",label:"参数键名",component:"Input",colProps:{span:8}}],_=[{field:"paramName",label:"参数名称",component:"Input",required:!0},{field:"paramKey",label:"参数键名",component:"Input",required:!0},{field:"paramValue",label:"参数键值",component:"InputTextArea"}],R=y({emits:["success","register"],setup(e,{emit:r}){const o=b(!0),n=b(""),[s,{setFieldsValue:y,resetFields:I,validate:w}]=d({labelWidth:100,schemas:_,showActionButtonGroup:!1,baseColProps:{span:24},actionColOptions:{span:23}}),[R,{setModalProps:B,closeModal:F}]=p((e=>i(this,null,(function*(){if(I(),o.value=!!(null==e?void 0:e.isUpdate),v(o)){n.value=e.record.id;const a=yield m({id:e.record.id});y(l({},a))}B({confirmLoading:!1})})))),K=g((()=>v(o)?"编辑参数":"新增参数"));function L(){return i(this,null,(function*(){try{const i=yield w();B({confirmLoading:!0}),v(o)?yield f((e=l({},i),s={id:n.value},a(e,t(s)))):yield f(l({},i)),F(),r("success")}finally{B({confirmLoading:!1})}var e,s}))}return(e,a)=>(j(),O(v(c),x(e.$attrs,{onRegister:v(R),title:v(K),onOk:L}),{default:P((()=>[h(v(u),{onRegister:v(s)},null,8,["onRegister"])])),_:1},16,["onRegister","title"]))}}),B=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{B as P,R as _,I as c,w as s};
