var e=(e,s,t)=>new Promise(((a,r)=>{var o=e=>{try{n(t.next(e))}catch(s){r(s)}},i=e=>{try{n(t.throw(e))}catch(s){r(s)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,i);n((t=t.apply(e,s)).next())}));import s from"./TopQuery-79d625ea.js";import{g as t,A as a,e as r,a as o}from"./AddOrEditEnterpriseDrawer-ea64a5cf.js";import i from"./AMap-b626aef6.js";import{F as n,B as d}from"./TableImg-d2c728a3.js";import"./useForm-76a4ff23.js";import{u as l}from"./useTable-0a379cac.js";import{a as p,eg as m,ab as c,o as u,h as f,n as j,k as b,j as y,dh as h,l as k,H as g,O as w,K as x,aa as E,eh as A}from"./index-c5a6c875.js";import{E as O}from"./EyeOutlined-274e25e9.js";import{D as v}from"./DeleteOutlined-2ff0b91d.js";import"./index-6c947566.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./ImageListUpload-208263ea.js";import"./attach-17a7a276.js";import"./ImageUpload-f0074c94.js";import"./index-c9e02f09.js";import"./useWindowSizeFn-72c85a53.js";import"./FullscreenOutlined-9b414b92.js";import"./index-33df9098.js";import"./onMountedOrActivated-48cd1b25.js";import"./useContentViewHeight-e138bd2a.js";import"./CheckOutlined-752df576.js";import"./uuid-f62a8acd.js";import"./merge-5148c4a3.js";import"./get-8f9589fb.js";import"./sortable.esm-7c85b602.js";import"./RedoOutlined-e07a9f51.js";import"./index-bb91fa2a.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const D={class:"page"},_=x("编辑"),C=x("删除"),I=p({setup(p){let x=m({});const I=m(),[M,{reload:R}]=l({api:t}),F=m();let S=m(!1);const q=()=>e(this,null,(function*(){S.value=!0,yield E(),F.value.openModal()})),K=s=>e(this,null,(function*(){try{yield o(s),A.success("删除成功"),R()}catch(e){}}));return(e,t)=>{const o=c("a-image"),l=c("a-button"),p=c("a-popconfirm");return u(),f("section",D,[j(s,{onAddEnterprise:t[0]||(t[0]=e=>b(I).openAddOrEditEnterpriseDrawer({banners:[],businessInformation:[],honors:[]}))}),j(a,{addressData:b(x),onSelectAddress:q,onSuccess:b(R),ref_key:"AddOrEditEnterpriseDrawerRef",ref:I},null,8,["addressData","onSuccess"]),b(S)?(u(),y(i,{key:0,onAddress:t[1]||(t[1]=e=>h(x)?x.value=e:x=e),ref_key:"AMapRef",ref:F},null,512)):k("",!0),j(b(d),{onRegister:b(M),title:"企业列表",columns:b(r),rowKey:e=>e.id,striped:!1},{bodyCell:g((({text:e,record:s,index:t,column:a})=>[2===a.key?(u(),y(o,{key:0,width:40,src:e},{previewMask:g((()=>[j(b(O))])),_:2},1032,["src"])):k("",!0),99===a.key?(u(),f(w,{key:1},[j(l,{type:"link",onClick:e=>b(I).openAddOrEditEnterpriseDrawer(s)},{default:g((()=>[_,j(b(n))])),_:2},1032,["onClick"]),j(p,{onConfirm:e=>K(s.id),title:"是否确认删除?","ok-text":"确认","cancel-text":"取消"},{default:g((()=>[j(l,{type:"link",danger:""},{default:g((()=>[C,j(b(v))])),_:1})])),_:2},1032,["onConfirm"])],64)):k("",!0)])),_:1},8,["onRegister","columns","rowKey"])])}}});export{I as default};
