import e from"./TopQuery-6d2f8b0a.js";import{g as t,_ as a,a as i}from"./AddOrEditFriendLinkModal-83d50e5c.js";import{F as s,B as o}from"./TableImg-d2c728a3.js";import"./useForm-76a4ff23.js";import{u as r}from"./useTable-0a379cac.js";import{s as d,a as n,eg as c,ab as l,o as m,h as p,n as u,k as f,H as j,t as k,l as y,j as b,O as h,K as x,eh as w}from"./index-c5a6c875.js";import{E as g}from"./EyeOutlined-274e25e9.js";import{D as O}from"./DeleteOutlined-2ff0b91d.js";import"./index-c9e02f09.js";import"./useWindowSizeFn-72c85a53.js";import"./FullscreenOutlined-9b414b92.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./ImageUpload-f0074c94.js";import"./attach-17a7a276.js";import"./index-33df9098.js";import"./onMountedOrActivated-48cd1b25.js";import"./useContentViewHeight-e138bd2a.js";import"./CheckOutlined-752df576.js";import"./uuid-f62a8acd.js";import"./merge-5148c4a3.js";import"./get-8f9589fb.js";import"./sortable.esm-7c85b602.js";import"./RedoOutlined-e07a9f51.js";import"./index-bb91fa2a.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const _=[{title:"站点名称",dataIndex:"websiteName",width:250,key:1},{title:"友情链接名称",dataIndex:"name",width:150,key:2},{title:"url地址",dataIndex:"url",width:250,key:3},{title:"友情链接图标",dataIndex:"icon",width:100,key:4},{title:"操作",width:200,fixed:"right",key:99}],I={class:"page"},v=["href"],E=x("编辑"),F=x("删除"),C=d(n({setup(d){const n=c(),[x,{reload:C}]=r({api:t}),A=e=>{return t=this,a=null,s=function*(){try{yield i(e),C({searchInfo:{}}),w.success("删除成功")}catch(t){}},new Promise(((e,i)=>{var o=e=>{try{d(s.next(e))}catch(t){i(t)}},r=e=>{try{d(s.throw(e))}catch(t){i(t)}},d=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,r);d((s=s.apply(t,a)).next())}));var t,a,s};return(t,i)=>{const r=l("a-image"),d=l("a-button"),c=l("a-popconfirm");return m(),p("section",I,[u(e,{onAddWebsite:i[0]||(i[0]=e=>f(n).openAddOrEditFriendLinkPopup({}))}),u(a,{onSuccess:f(C),ref_key:"addOrEditFriendLinkModalRef",ref:n},null,8,["onSuccess"]),u(f(o),{onRegister:f(x),title:"站点列表",columns:f(_),rowKey:e=>e.id,striped:!1},{bodyCell:j((({text:e,record:t,index:a,column:i})=>[3===i.key?(m(),p("a",{key:0,href:e,target:"_blank"},k(e),9,v)):y("",!0),4===i.key?(m(),b(r,{key:1,width:40,src:e},{previewMask:j((()=>[u(f(g))])),_:2},1032,["src"])):y("",!0),99===i.key?(m(),p(h,{key:2},[u(d,{type:"link",onClick:e=>f(n).openAddOrEditFriendLinkPopup(t)},{default:j((()=>[E,u(f(s))])),_:2},1032,["onClick"]),u(c,{onConfirm:e=>A(t.id),title:"是否确认删除?","ok-text":"确认","cancel-text":"取消"},{default:j((()=>[u(d,{type:"link",danger:""},{default:j((()=>[F,u(f(O))])),_:1})])),_:2},1032,["onConfirm"])],64)):y("",!0)])),_:1},8,["onRegister","columns","rowKey"])])}}}),[["__scopeId","data-v-ad45f5c8"]]);export{C as default};
