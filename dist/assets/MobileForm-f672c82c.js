import{a as e,F as a,c as s,w as l,x as o,f as t,k as n,o as i,h as r,n as u,H as c,I as m,L as d,K as f,t as p,O as g,l as b}from"./index-c5a6c875.js";import{C as v}from"./index-bb91fa2a.js";import{u as x,a as y,L as h,_ as k,b as _}from"./LoginFormTitle-799a344d.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";const L=e({setup(e){const L=a.Item,{t:j}=s(),{handleBackLogin:C,getLoginState:I}=x(),{getFormRules:z}=y(),F=l(),w=l(!1),B=o({mobile:"",sms:""}),{validForm:E}=_(F),q=t((()=>n(I)===h.MOBILE));function O(){return e=this,a=null,s=function*(){yield E()},new Promise(((l,o)=>{var t=e=>{try{i(s.next(e))}catch(a){o(a)}},n=e=>{try{i(s.throw(e))}catch(a){o(a)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(t,n);i((s=s.apply(e,a)).next())}));var e,a,s}return(e,s)=>n(q)?(i(),r(g,{key:0},[u(k,{class:"enter-x"}),u(n(a),{class:"p-4 enter-x",model:n(B),rules:n(z),ref_key:"formRef",ref:F},{default:c((()=>[u(n(L),{name:"mobile",class:"enter-x"},{default:c((()=>[u(n(m),{size:"large",value:n(B).mobile,"onUpdate:value":s[0]||(s[0]=e=>n(B).mobile=e),placeholder:n(j)("sys.login.mobile"),class:"fix-auto-fill"},null,8,["value","placeholder"])])),_:1}),u(n(L),{name:"sms",class:"enter-x"},{default:c((()=>[u(n(v),{size:"large",class:"fix-auto-fill",value:n(B).sms,"onUpdate:value":s[1]||(s[1]=e=>n(B).sms=e),placeholder:n(j)("sys.login.smsCode")},null,8,["value","placeholder"])])),_:1}),u(n(L),{class:"enter-x"},{default:c((()=>[u(n(d),{type:"primary",size:"large",block:"",onClick:O,loading:w.value},{default:c((()=>[f(p(n(j)("sys.login.loginButton")),1)])),_:1},8,["loading"]),u(n(d),{size:"large",block:"",class:"mt-4",onClick:n(C)},{default:c((()=>[f(p(n(j)("sys.login.backSignIn")),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])],64)):b("",!0)}});export{L as default};
