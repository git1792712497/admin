var Ge=Object.defineProperty,qe=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var se=(e,t,a)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,yt=(e,t)=>{for(var a in t||(t={}))Ze.call(t,a)&&se(e,a,t[a]);if(ae)for(var a of ae(t))Ke.call(t,a)&&se(e,a,t[a]);return e},Ct=(e,t)=>qe(e,_e(t));import{w as Qe}from"./base-c9ac7f1d.js";import{d as Je,a as ti,b as ei,c as ii,u as ai,e as si,E as ri}from"./el-overlay-2503f9a6.js";import{E as oi}from"./el-image-viewer-955cf99b.js";import{E as ni}from"./el-card-3d974d2a.js";import{E as hi}from"./el-link-9662ce78.js";import{E as ci}from"./el-button-e80b2844.js";import{_ as li}from"./login-c21a2675.js";import{m as Nt,T as pi}from"./runtime-dom.esm-bundler-5921b3d0.js";import{l as Ee,bh as ui,aU as fi,d as st,W as re,U as Ot,o as U,Z,_ as E,r as it,ao as G,u as w,ar as Wt,e as $,b as N,c as Lt,b5 as di,aB as ct,aq as ot,bf as gi,Y as Yt,X as mi,bl as kt,aR as vi,aD as wi,aw as bi,T as It,aE as xt,a5 as yi,b0 as Ci,a$ as xi}from"./runtime-core.esm-bundler-763b24c9.js";import{E as Mi}from"./index-f2930724.js";import{_ as Oe,u as Ei}from"./plugin-vue_export-helper-2c43b310.js";import{u as Oi}from"./index-af263c7f.js";import{C as Di}from"./icon-bea742d8.js";import{F as Ti,E as Si}from"./focus-trap-53091e07.js";import{c as Xi}from"./refs-a62920ce.js";import{a as oe}from"./style-be20bb62.js";import{u as ne}from"./index-98e06da6.js";import{_ as Yi}from"./_plugin-vue_export-helper-c27b6911.js";import"./require-bb924a95.js";import"./vnode-a085d075.js";import"./event-9519ab40.js";import"./index-e4b86012.js";import"./index-cfc72b3d.js";import"./index-17e0c752.js";import"./error-78e43d3e.js";import"./scroll-6da5dc64.js";import"./index-f7939e7d.js";import"./index-0fe2b22d.js";import"./typescript-defaf979.js";import"./index-d49e62b3.js";import"./position-c2cea7c0.js";import"./index-fb510e2d.js";const De=Symbol("dialogInjectionKey"),Ii=(e,t,a)=>{let i={offsetX:0,offsetY:0};const r=n=>{const l=n.clientX,p=n.clientY,{offsetX:h,offsetY:c}=i,u=e.value.getBoundingClientRect(),m=u.left,d=u.top,v=u.width,g=u.height,b=document.documentElement.clientWidth,S=document.documentElement.clientHeight,O=-m+h,R=-d+c,I=b-m-v+h,f=S-d-g+c,C=A=>{const x=Math.min(Math.max(h+A.clientX-l,O),I),H=Math.min(Math.max(c+A.clientY-p,R),f);i={offsetX:x,offsetY:H},e.value.style.transform=`translate(${oe(x)}, ${oe(H)})`},M=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",M)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",r)},o=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",r)};Ee(()=>{ui(()=>{a.value?s():o()})}),fi(()=>{o()})},Ai=["aria-label"],Hi=["id"],Ni=st({name:"ElDialogContent"}),Wi=st(Ct(yt({},Ni),{props:Je,emits:ti,setup(e){const t=e,{t:a}=Oi(),{Close:i}=Di,{dialogRef:r,headerRef:s,bodyId:o,ns:n,style:l}=re(De),{focusTrapRef:p}=re(Ti),h=Xi(p,r),c=Ot(()=>t.draggable);return Ii(r,s,c),(u,m)=>(U(),Z("div",{ref:w(h),class:G([w(n).b(),w(n).is("fullscreen",u.fullscreen),w(n).is("draggable",w(c)),w(n).is("align-center",u.alignCenter),{[w(n).m("center")]:u.center},u.customClass]),style:ot(w(l)),tabindex:"-1"},[E("header",{ref_key:"headerRef",ref:s,class:G(w(n).e("header"))},[it(u.$slots,"header",{},()=>[E("span",{role:"heading",class:G(w(n).e("title"))},Wt(u.title),3)]),u.showClose?(U(),Z("button",{key:0,"aria-label":w(a)("el.dialog.close"),class:G(w(n).e("headerbtn")),type:"button",onClick:m[0]||(m[0]=d=>u.$emit("close"))},[$(w(Mi),{class:G(w(n).e("close"))},{default:N(()=>[(U(),Lt(di(u.closeIcon||w(i))))]),_:1},8,["class"])],10,Ai)):ct("v-if",!0)],2),E("div",{id:w(o),class:G(w(n).e("body"))},[it(u.$slots,"default")],10,Hi),u.$slots.footer?(U(),Z("footer",{key:0,class:G(w(n).e("footer"))},[it(u.$slots,"footer")],2)):ct("v-if",!0)],6))}}));var Li=Oe(Wi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ki=["aria-label","aria-labelledby","aria-describedby"],Ri=st({name:"ElDialog",inheritAttrs:!1}),Bi=st(Ct(yt({},Ri),{props:ei,emits:ii,setup(e,{expose:t}){const a=e,i=gi();ne({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},Ot(()=>!!i.title)),ne({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},Ot(()=>!!a.customClass));const r=Ei("dialog"),s=Yt(),o=Yt(),n=Yt(),{visible:l,titleId:p,bodyId:h,style:c,overlayDialogStyle:u,rendered:m,zIndex:d,afterEnter:v,afterLeave:g,beforeLeave:b,handleClose:S,onModalClick:O,onOpenAutoFocus:R,onCloseAutoFocus:I,onCloseRequested:f,onFocusoutPrevented:C}=ai(a,s);mi(De,{dialogRef:s,headerRef:o,bodyId:h,ns:r,rendered:m,style:c});const M=si(O),A=Ot(()=>a.draggable&&!a.fullscreen);return t({visible:l,dialogContentRef:n}),(x,H)=>(U(),Lt(bi,{to:"body",disabled:!x.appendToBody},[$(pi,{name:"dialog-fade",onAfterEnter:w(v),onAfterLeave:w(g),onBeforeLeave:w(b),persisted:""},{default:N(()=>[kt($(w(ri),{"custom-mask-event":"",mask:x.modal,"overlay-class":x.modalClass,"z-index":w(d)},{default:N(()=>[E("div",{role:"dialog","aria-modal":"true","aria-label":x.title||void 0,"aria-labelledby":x.title?void 0:w(p),"aria-describedby":w(h),class:G(`${w(r).namespace.value}-overlay-dialog`),style:ot(w(u)),onClick:H[0]||(H[0]=(...B)=>w(M).onClick&&w(M).onClick(...B)),onMousedown:H[1]||(H[1]=(...B)=>w(M).onMousedown&&w(M).onMousedown(...B)),onMouseup:H[2]||(H[2]=(...B)=>w(M).onMouseup&&w(M).onMouseup(...B))},[$(w(Si),{loop:"",trapped:w(l),"focus-start-el":"container",onFocusAfterTrapped:w(R),onFocusAfterReleased:w(I),onFocusoutPrevented:w(C),onReleaseRequested:w(f)},{default:N(()=>[w(m)?(U(),Lt(Li,vi({key:0,ref_key:"dialogContentRef",ref:n},x.$attrs,{"custom-class":x.customClass,center:x.center,"align-center":x.alignCenter,"close-icon":x.closeIcon,draggable:w(A),fullscreen:x.fullscreen,"show-close":x.showClose,title:x.title,onClose:w(S)}),wi({header:N(()=>[x.$slots.title?it(x.$slots,"title",{key:1}):it(x.$slots,"header",{key:0,close:w(S),titleId:w(p),titleClass:w(r).e("title")})]),default:N(()=>[it(x.$slots,"default")]),_:2},[x.$slots.footer?{name:"footer",fn:N(()=>[it(x.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):ct("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ki)]),_:3},8,["mask","overlay-class","z-index"]),[[Nt,w(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var $i=Oe(Bi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const zi=Qe($i);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,i)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?he(Object(a),!0).forEach(function(i){ji(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function Rt(e){return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(e)}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ui(e,t,a){return t&&ce(e.prototype,t),a&&ce(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function ji(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Se(e){return Vi(e)||Fi(e)||Gi(e)||qi()}function Vi(e){if(Array.isArray(e))return Bt(e)}function Fi(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gi(e,t){if(!!e){if(typeof e=="string")return Bt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bt(e,t)}}function Bt(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function qi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tt=typeof window!="undefined"&&typeof window.document!="undefined",F=Tt?window:{},qt=Tt&&F.document.documentElement?"ontouchstart"in F.document.documentElement:!1,_t=Tt?"PointerEvent"in F:!1,D="cropper",Zt="all",Xe="crop",Ye="move",Ie="zoom",tt="e",et="w",rt="s",_="n",ut="ne",ft="nw",dt="se",gt="sw",$t="".concat(D,"-crop"),le="".concat(D,"-disabled"),k="".concat(D,"-hidden"),pe="".concat(D,"-hide"),_i="".concat(D,"-invisible"),Dt="".concat(D,"-modal"),zt="".concat(D,"-move"),vt="".concat(D,"Action"),Mt="".concat(D,"Preview"),Kt="crop",Ae="move",He="none",Pt="crop",Ut="cropend",jt="cropmove",Vt="cropstart",ue="dblclick",Zi=qt?"touchstart":"mousedown",Ki=qt?"touchmove":"mousemove",Qi=qt?"touchend touchcancel":"mouseup",fe=_t?"pointerdown":Zi,de=_t?"pointermove":Ki,ge=_t?"pointerup pointercancel":Qi,me="ready",ve="resize",we="wheel",Ft="zoom",be="image/jpeg",Ji=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ta=/^data:/,ea=/^data:image\/jpeg;base64,/,ia=/^img|canvas$/i,Ne=200,We=100,ye={viewMode:0,dragMode:Kt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ne,minContainerHeight:We,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},aa='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',sa=Number.isNaN||F.isNaN;function y(e){return typeof e=="number"&&!sa(e)}var Ce=function(t){return t>0&&t<1/0};function At(e){return typeof e=="undefined"}function at(e){return Rt(e)==="object"&&e!==null}var ra=Object.prototype.hasOwnProperty;function nt(e){if(!at(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&ra.call(a,"isPrototypeOf")}catch(i){return!1}}function L(e){return typeof e=="function"}var oa=Array.prototype.slice;function Le(e){return Array.from?Array.from(e):oa.call(e)}function X(e,t){return e&&L(t)&&(Array.isArray(e)||y(e.length)?Le(e).forEach(function(a,i){t.call(e,a,i,e)}):at(e)&&Object.keys(e).forEach(function(a){t.call(e,e[a],a,e)})),e}var T=Object.assign||function(t){for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return at(t)&&i.length>0&&i.forEach(function(s){at(s)&&Object.keys(s).forEach(function(o){t[o]=s[o]})}),t},na=/\.\d*(?:0|9){12}\d*$/;function lt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return na.test(e)?Math.round(e*t)/t:e}var ha=/^width|height|left|top|marginLeft|marginTop$/;function K(e,t){var a=e.style;X(t,function(i,r){ha.test(r)&&y(i)&&(i="".concat(i,"px")),a[r]=i})}function ca(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Y(e,t){if(!!t){if(y(e.length)){X(e,function(i){Y(i,t)});return}if(e.classList){e.classList.add(t);return}var a=e.className.trim();a?a.indexOf(t)<0&&(e.className="".concat(a," ").concat(t)):e.className=t}}function V(e,t){if(!!t){if(y(e.length)){X(e,function(a){V(a,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function ht(e,t,a){if(!!t){if(y(e.length)){X(e,function(i){ht(i,t,a)});return}a?Y(e,t):V(e,t)}}var la=/([a-z\d])([A-Z])/g;function Qt(e){return e.replace(la,"$1-$2").toLowerCase()}function Gt(e,t){return at(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Qt(t)))}function wt(e,t,a){at(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-".concat(Qt(t)),a)}function pa(e,t){if(at(e[t]))try{delete e[t]}catch(a){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(a){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Qt(t)))}var ke=/\s\s*/,Re=function(){var e=!1;if(Tt){var t=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});F.addEventListener("test",a,i),F.removeEventListener("test",a,i)}return e}();function P(e,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=a;t.trim().split(ke).forEach(function(s){if(!Re){var o=e.listeners;o&&o[s]&&o[s][a]&&(r=o[s][a],delete o[s][a],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(s,r,i)})}function z(e,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=a;t.trim().split(ke).forEach(function(s){if(i.once&&!Re){var o=e.listeners,n=o===void 0?{}:o;r=function(){delete n[s][a],e.removeEventListener(s,r,i);for(var p=arguments.length,h=new Array(p),c=0;c<p;c++)h[c]=arguments[c];a.apply(e,h)},n[s]||(n[s]={}),n[s][a]&&e.removeEventListener(s,n[s][a],i),n[s][a]=r,e.listeners=n}e.addEventListener(s,r,i)})}function pt(e,t,a){var i;return L(Event)&&L(CustomEvent)?i=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,a)),e.dispatchEvent(i)}function Be(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ht=F.location,ua=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function xe(e){var t=e.match(ua);return t!==null&&(t[1]!==Ht.protocol||t[2]!==Ht.hostname||t[3]!==Ht.port)}function Me(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function mt(e){var t=e.rotate,a=e.scaleX,i=e.scaleY,r=e.translateX,s=e.translateY,o=[];y(r)&&r!==0&&o.push("translateX(".concat(r,"px)")),y(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),y(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),y(a)&&a!==1&&o.push("scaleX(".concat(a,")")),y(i)&&i!==1&&o.push("scaleY(".concat(i,")"));var n=o.length?o.join(" "):"none";return{WebkitTransform:n,msTransform:n,transform:n}}function fa(e){var t=Te({},e),a=0;return X(e,function(i,r){delete t[r],X(t,function(s){var o=Math.abs(i.startX-s.startX),n=Math.abs(i.startY-s.startY),l=Math.abs(i.endX-s.endX),p=Math.abs(i.endY-s.endY),h=Math.sqrt(o*o+n*n),c=Math.sqrt(l*l+p*p),u=(c-h)/h;Math.abs(u)>Math.abs(a)&&(a=u)})}),a}function Et(e,t){var a=e.pageX,i=e.pageY,r={endX:a,endY:i};return t?r:Te({startX:a,startY:i},r)}function da(e){var t=0,a=0,i=0;return X(e,function(r){var s=r.startX,o=r.startY;t+=s,a+=o,i+=1}),t/=i,a/=i,{pageX:t,pageY:a}}function Q(e){var t=e.aspectRatio,a=e.height,i=e.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=Ce(i),o=Ce(a);if(s&&o){var n=a*t;r==="contain"&&n>i||r==="cover"&&n<i?a=i/t:i=a*t}else s?a=i/t:o&&(i=a*t);return{width:i,height:a}}function ga(e){var t=e.width,a=e.height,i=e.degree;if(i=Math.abs(i)%180,i===90)return{width:a,height:t};var r=i%90*Math.PI/180,s=Math.sin(r),o=Math.cos(r),n=t*o+a*s,l=t*s+a*o;return i>90?{width:l,height:n}:{width:n,height:l}}function ma(e,t,a,i){var r=t.aspectRatio,s=t.naturalWidth,o=t.naturalHeight,n=t.rotate,l=n===void 0?0:n,p=t.scaleX,h=p===void 0?1:p,c=t.scaleY,u=c===void 0?1:c,m=a.aspectRatio,d=a.naturalWidth,v=a.naturalHeight,g=i.fillColor,b=g===void 0?"transparent":g,S=i.imageSmoothingEnabled,O=S===void 0?!0:S,R=i.imageSmoothingQuality,I=R===void 0?"low":R,f=i.maxWidth,C=f===void 0?1/0:f,M=i.maxHeight,A=M===void 0?1/0:M,x=i.minWidth,H=x===void 0?0:x,B=i.minHeight,q=B===void 0?0:B,j=document.createElement("canvas"),W=j.getContext("2d"),J=Q({aspectRatio:m,width:C,height:A}),bt=Q({aspectRatio:m,width:H,height:q},"cover"),St=Math.min(J.width,Math.max(bt.width,d)),Xt=Math.min(J.height,Math.max(bt.height,v)),Jt=Q({aspectRatio:r,width:C,height:A}),te=Q({aspectRatio:r,width:H,height:q},"cover"),ee=Math.min(Jt.width,Math.max(te.width,s)),ie=Math.min(Jt.height,Math.max(te.height,o)),Ve=[-ee/2,-ie/2,ee,ie];return j.width=lt(St),j.height=lt(Xt),W.fillStyle=b,W.fillRect(0,0,St,Xt),W.save(),W.translate(St/2,Xt/2),W.rotate(l*Math.PI/180),W.scale(h,u),W.imageSmoothingEnabled=O,W.imageSmoothingQuality=I,W.drawImage.apply(W,[e].concat(Se(Ve.map(function(Fe){return Math.floor(lt(Fe))})))),W.restore(),j}var $e=String.fromCharCode;function va(e,t,a){var i="";a+=t;for(var r=t;r<a;r+=1)i+=$e(e.getUint8(r));return i}var wa=/^data:.*,/;function ba(e){var t=e.replace(wa,""),a=atob(t),i=new ArrayBuffer(a.length),r=new Uint8Array(i);return X(r,function(s,o){r[o]=a.charCodeAt(o)}),i}function ya(e,t){for(var a=[],i=8192,r=new Uint8Array(e);r.length>0;)a.push($e.apply(null,Le(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}function Ca(e){var t=new DataView(e),a;try{var i,r,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,n=2;n+1<o;){if(t.getUint8(n)===255&&t.getUint8(n+1)===225){r=n;break}n+=1}if(r){var l=r+4,p=r+10;if(va(t,l,4)==="Exif"){var h=t.getUint16(p);if(i=h===18761,(i||h===19789)&&t.getUint16(p+2,i)===42){var c=t.getUint32(p+4,i);c>=8&&(s=p+c)}}}if(s){var u=t.getUint16(s,i),m,d;for(d=0;d<u;d+=1)if(m=s+d*12+2,t.getUint16(m,i)===274){m+=8,a=t.getUint16(m,i),t.setUint16(m,1,i);break}}}catch(v){a=1}return a}function xa(e){var t=0,a=1,i=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:a,scaleY:i}}var Ma={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,a=this.options,i=this.container,r=this.cropper,s=Number(a.minContainerWidth),o=Number(a.minContainerHeight);Y(r,k),V(t,k);var n={width:Math.max(i.offsetWidth,s>=0?s:Ne),height:Math.max(i.offsetHeight,o>=0?o:We)};this.containerData=n,K(r,{width:n.width,height:n.height}),Y(t,k),V(r,k)},initCanvas:function(){var t=this.containerData,a=this.imageData,i=this.options.viewMode,r=Math.abs(a.rotate)%180===90,s=r?a.naturalHeight:a.naturalWidth,o=r?a.naturalWidth:a.naturalHeight,n=s/o,l=t.width,p=t.height;t.height*n>t.width?i===3?l=t.height*n:p=t.width/n:i===3?p=t.width/n:l=t.height*n;var h={aspectRatio:n,naturalWidth:s,naturalHeight:o,width:l,height:p};this.canvasData=h,this.limited=i===1||i===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=T({},h)},limitCanvas:function(t,a){var i=this.options,r=this.containerData,s=this.canvasData,o=this.cropBoxData,n=i.viewMode,l=s.aspectRatio,p=this.cropped&&o;if(t){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;n>1?(h=Math.max(h,r.width),c=Math.max(c,r.height),n===3&&(c*l>h?h=c*l:c=h/l)):n>0&&(h?h=Math.max(h,p?o.width:0):c?c=Math.max(c,p?o.height:0):p&&(h=o.width,c=o.height,c*l>h?h=c*l:c=h/l));var u=Q({aspectRatio:l,width:h,height:c});h=u.width,c=u.height,s.minWidth=h,s.minHeight=c,s.maxWidth=1/0,s.maxHeight=1/0}if(a)if(n>(p?0:1)){var m=r.width-s.width,d=r.height-s.height;s.minLeft=Math.min(0,m),s.minTop=Math.min(0,d),s.maxLeft=Math.max(0,m),s.maxTop=Math.max(0,d),p&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,n===2&&(s.width>=r.width&&(s.minLeft=Math.min(0,m),s.maxLeft=Math.max(0,m)),s.height>=r.height&&(s.minTop=Math.min(0,d),s.maxTop=Math.max(0,d))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=r.width,s.maxTop=r.height},renderCanvas:function(t,a){var i=this.canvasData,r=this.imageData;if(a){var s=ga({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),o=s.width,n=s.height,l=i.width*(o/i.naturalWidth),p=i.height*(n/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(p-i.height)/2,i.width=l,i.height=p,i.aspectRatio=o/n,i.naturalWidth=o,i.naturalHeight=n,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,K(this.canvas,T({width:i.width,height:i.height},mt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var a=this.canvasData,i=this.imageData,r=i.naturalWidth*(a.width/a.naturalWidth),s=i.naturalHeight*(a.height/a.naturalHeight);T(i,{width:r,height:s,left:(a.width-r)/2,top:(a.height-s)/2}),K(this.image,T({width:i.width,height:i.height},mt(T({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,a=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,s={width:a.width,height:a.height};i&&(a.height*i>a.width?s.height=s.width/i:s.width=s.height*i),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*r),s.height=Math.max(s.minHeight,s.height*r),s.left=a.left+(a.width-s.width)/2,s.top=a.top+(a.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=T({},s)},limitCropBox:function(t,a){var i=this.options,r=this.containerData,s=this.canvasData,o=this.cropBoxData,n=this.limited,l=i.aspectRatio;if(t){var p=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=n?Math.min(r.width,s.width,s.width+s.left,r.width-s.left):r.width,u=n?Math.min(r.height,s.height,s.height+s.top,r.height-s.top):r.height;p=Math.min(p,r.width),h=Math.min(h,r.height),l&&(p&&h?h*l>p?h=p/l:p=h*l:p?h=p/l:h&&(p=h*l),u*l>c?u=c/l:c=u*l),o.minWidth=Math.min(p,c),o.minHeight=Math.min(h,u),o.maxWidth=c,o.maxHeight=u}a&&(n?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(r.width,s.left+s.width)-o.width,o.maxTop=Math.min(r.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,o.maxTop=r.height-o.height))},renderCropBox:function(){var t=this.options,a=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&wt(this.face,vt,i.width>=a.width&&i.height>=a.height?Ye:Zt),K(this.cropBox,T({width:i.width,height:i.height},mt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),pt(this.element,Pt,this.getData())}},Ea={initPreview:function(){var t=this.element,a=this.crossOrigin,i=this.options.preview,r=a?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",o=document.createElement("img");if(a&&(o.crossOrigin=a),o.src=r,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,!!i){var n=i;typeof i=="string"?n=t.ownerDocument.querySelectorAll(i):i.querySelector&&(n=[i]),this.previews=n,X(n,function(l){var p=document.createElement("img");wt(l,Mt,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),a&&(p.crossOrigin=a),p.src=r,p.alt=s,p.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(p)})}},resetPreview:function(){X(this.previews,function(t){var a=Gt(t,Mt);K(t,{width:a.width,height:a.height}),t.innerHTML=a.html,pa(t,Mt)})},preview:function(){var t=this.imageData,a=this.canvasData,i=this.cropBoxData,r=i.width,s=i.height,o=t.width,n=t.height,l=i.left-a.left-t.left,p=i.top-a.top-t.top;!this.cropped||this.disabled||(K(this.viewBoxImage,T({width:o,height:n},mt(T({translateX:-l,translateY:-p},t)))),X(this.previews,function(h){var c=Gt(h,Mt),u=c.width,m=c.height,d=u,v=m,g=1;r&&(g=u/r,v=s*g),s&&v>m&&(g=m/s,d=r*g,v=m),K(h,{width:d,height:v}),K(h.getElementsByTagName("img")[0],T({width:o*g,height:n*g},mt(T({translateX:-l*g,translateY:-p*g},t))))}))}},Oa={bind:function(){var t=this.element,a=this.options,i=this.cropper;L(a.cropstart)&&z(t,Vt,a.cropstart),L(a.cropmove)&&z(t,jt,a.cropmove),L(a.cropend)&&z(t,Ut,a.cropend),L(a.crop)&&z(t,Pt,a.crop),L(a.zoom)&&z(t,Ft,a.zoom),z(i,fe,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&z(i,we,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&z(i,ue,this.onDblclick=this.dblclick.bind(this)),z(t.ownerDocument,de,this.onCropMove=this.cropMove.bind(this)),z(t.ownerDocument,ge,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&z(window,ve,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,a=this.options,i=this.cropper;L(a.cropstart)&&P(t,Vt,a.cropstart),L(a.cropmove)&&P(t,jt,a.cropmove),L(a.cropend)&&P(t,Ut,a.cropend),L(a.crop)&&P(t,Pt,a.crop),L(a.zoom)&&P(t,Ft,a.zoom),P(i,fe,this.onCropStart),a.zoomable&&a.zoomOnWheel&&P(i,we,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&P(i,ue,this.onDblclick),P(t.ownerDocument,de,this.onCropMove),P(t.ownerDocument,ge,this.onCropEnd),a.responsive&&P(window,ve,this.onResize)}},Da={resize:function(){if(!this.disabled){var t=this.options,a=this.container,i=this.containerData,r=a.offsetWidth/i.width,s=a.offsetHeight/i.height,o=Math.abs(r-1)>Math.abs(s-1)?r:s;if(o!==1){var n,l;t.restore&&(n=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(X(n,function(p,h){n[h]=p*o})),this.setCropBoxData(X(l,function(p,h){l[h]=p*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===He||this.setDragMode(ca(this.dragBox,$t)?Ae:Kt)},wheel:function(t){var a=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*i,t)))},cropStart:function(t){var a=t.buttons,i=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(y(a)&&a!==1||y(i)&&i!==0||t.ctrlKey))){var r=this.options,s=this.pointers,o;t.changedTouches?X(t.changedTouches,function(n){s[n.identifier]=Et(n)}):s[t.pointerId||0]=Et(t),Object.keys(s).length>1&&r.zoomable&&r.zoomOnTouch?o=Ie:o=Gt(t.target,vt),!!Ji.test(o)&&pt(this.element,Vt,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===Xe&&(this.cropping=!0,Y(this.dragBox,Dt)))}},cropMove:function(t){var a=this.action;if(!(this.disabled||!a)){var i=this.pointers;t.preventDefault(),pt(this.element,jt,{originalEvent:t,action:a})!==!1&&(t.changedTouches?X(t.changedTouches,function(r){T(i[r.identifier]||{},Et(r,!0))}):T(i[t.pointerId||0]||{},Et(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var a=this.action,i=this.pointers;t.changedTouches?X(t.changedTouches,function(r){delete i[r.identifier]}):delete i[t.pointerId||0],a&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,ht(this.dragBox,Dt,this.cropped&&this.options.modal)),pt(this.element,Ut,{originalEvent:t,action:a}))}}},Ta={change:function(t){var a=this.options,i=this.canvasData,r=this.containerData,s=this.cropBoxData,o=this.pointers,n=this.action,l=a.aspectRatio,p=s.left,h=s.top,c=s.width,u=s.height,m=p+c,d=h+u,v=0,g=0,b=r.width,S=r.height,O=!0,R;!l&&t.shiftKey&&(l=c&&u?c/u:1),this.limited&&(v=s.minLeft,g=s.minTop,b=v+Math.min(r.width,i.width,i.left+i.width),S=g+Math.min(r.height,i.height,i.top+i.height));var I=o[Object.keys(o)[0]],f={x:I.endX-I.startX,y:I.endY-I.startY},C=function(A){switch(A){case tt:m+f.x>b&&(f.x=b-m);break;case et:p+f.x<v&&(f.x=v-p);break;case _:h+f.y<g&&(f.y=g-h);break;case rt:d+f.y>S&&(f.y=S-d);break}};switch(n){case Zt:p+=f.x,h+=f.y;break;case tt:if(f.x>=0&&(m>=b||l&&(h<=g||d>=S))){O=!1;break}C(tt),c+=f.x,c<0&&(n=et,c=-c,p-=c),l&&(u=c/l,h+=(s.height-u)/2);break;case _:if(f.y<=0&&(h<=g||l&&(p<=v||m>=b))){O=!1;break}C(_),u-=f.y,h+=f.y,u<0&&(n=rt,u=-u,h-=u),l&&(c=u*l,p+=(s.width-c)/2);break;case et:if(f.x<=0&&(p<=v||l&&(h<=g||d>=S))){O=!1;break}C(et),c-=f.x,p+=f.x,c<0&&(n=tt,c=-c,p-=c),l&&(u=c/l,h+=(s.height-u)/2);break;case rt:if(f.y>=0&&(d>=S||l&&(p<=v||m>=b))){O=!1;break}C(rt),u+=f.y,u<0&&(n=_,u=-u,h-=u),l&&(c=u*l,p+=(s.width-c)/2);break;case ut:if(l){if(f.y<=0&&(h<=g||m>=b)){O=!1;break}C(_),u-=f.y,h+=f.y,c=u*l}else C(_),C(tt),f.x>=0?m<b?c+=f.x:f.y<=0&&h<=g&&(O=!1):c+=f.x,f.y<=0?h>g&&(u-=f.y,h+=f.y):(u-=f.y,h+=f.y);c<0&&u<0?(n=gt,u=-u,c=-c,h-=u,p-=c):c<0?(n=ft,c=-c,p-=c):u<0&&(n=dt,u=-u,h-=u);break;case ft:if(l){if(f.y<=0&&(h<=g||p<=v)){O=!1;break}C(_),u-=f.y,h+=f.y,c=u*l,p+=s.width-c}else C(_),C(et),f.x<=0?p>v?(c-=f.x,p+=f.x):f.y<=0&&h<=g&&(O=!1):(c-=f.x,p+=f.x),f.y<=0?h>g&&(u-=f.y,h+=f.y):(u-=f.y,h+=f.y);c<0&&u<0?(n=dt,u=-u,c=-c,h-=u,p-=c):c<0?(n=ut,c=-c,p-=c):u<0&&(n=gt,u=-u,h-=u);break;case gt:if(l){if(f.x<=0&&(p<=v||d>=S)){O=!1;break}C(et),c-=f.x,p+=f.x,u=c/l}else C(rt),C(et),f.x<=0?p>v?(c-=f.x,p+=f.x):f.y>=0&&d>=S&&(O=!1):(c-=f.x,p+=f.x),f.y>=0?d<S&&(u+=f.y):u+=f.y;c<0&&u<0?(n=ut,u=-u,c=-c,h-=u,p-=c):c<0?(n=dt,c=-c,p-=c):u<0&&(n=ft,u=-u,h-=u);break;case dt:if(l){if(f.x>=0&&(m>=b||d>=S)){O=!1;break}C(tt),c+=f.x,u=c/l}else C(rt),C(tt),f.x>=0?m<b?c+=f.x:f.y>=0&&d>=S&&(O=!1):c+=f.x,f.y>=0?d<S&&(u+=f.y):u+=f.y;c<0&&u<0?(n=ft,u=-u,c=-c,h-=u,p-=c):c<0?(n=gt,c=-c,p-=c):u<0&&(n=ut,u=-u,h-=u);break;case Ye:this.move(f.x,f.y),O=!1;break;case Ie:this.zoom(fa(o),t),O=!1;break;case Xe:if(!f.x||!f.y){O=!1;break}R=Be(this.cropper),p=I.startX-R.left,h=I.startY-R.top,c=s.minWidth,u=s.minHeight,f.x>0?n=f.y>0?dt:ut:f.x<0&&(p-=c,n=f.y>0?gt:ft),f.y<0&&(h-=u),this.cropped||(V(this.cropBox,k),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}O&&(s.width=c,s.height=u,s.left=p,s.top=h,this.action=n,this.renderCropBox()),X(o,function(M){M.startX=M.endX,M.startY=M.endY})}},Sa={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Y(this.dragBox,Dt),V(this.cropBox,k),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=T({},this.initialImageData),this.canvasData=T({},this.initialCanvasData),this.cropBoxData=T({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(T(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),V(this.dragBox,Dt),Y(this.cropBox,k)),this},replace:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),a?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,X(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,V(this.cropper,le)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Y(this.cropper,le)),this},destroy:function(){var t=this.element;return t[D]?(t[D]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,r=i.left,s=i.top;return this.moveTo(At(t)?t:r+Number(t),At(a)?a:s+Number(a))},moveTo:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,r=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(y(t)&&(i.left=t,r=!0),y(a)&&(i.top=a,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,a){var i=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(i.width*t/i.naturalWidth,null,a)},zoomTo:function(t,a,i){var r=this.options,s=this.canvasData,o=s.width,n=s.height,l=s.naturalWidth,p=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&r.zoomable){var h=l*t,c=p*t;if(pt(this.element,Ft,{ratio:t,oldRatio:o/l,originalEvent:i})===!1)return this;if(i){var u=this.pointers,m=Be(this.cropper),d=u&&Object.keys(u).length?da(u):{pageX:i.pageX,pageY:i.pageY};s.left-=(h-o)*((d.pageX-m.left-s.left)/o),s.top-=(c-n)*((d.pageY-m.top-s.top)/n)}else nt(a)&&y(a.x)&&y(a.y)?(s.left-=(h-o)*((a.x-s.left)/o),s.top-=(c-n)*((a.y-s.top)/n)):(s.left-=(h-o)/2,s.top-=(c-n)/2);s.width=h,s.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),y(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var a=this.imageData.scaleY;return this.scale(t,y(a)?a:1)},scaleY:function(t){var a=this.imageData.scaleX;return this.scale(y(a)?a:1,t)},scale:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData,r=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(y(t)&&(i.scaleX=t,r=!0),y(a)&&(i.scaleY=a,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,i=this.imageData,r=this.canvasData,s=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:s.left-r.left,y:s.top-r.top,width:s.width,height:s.height};var n=i.width/i.naturalWidth;if(X(o,function(h,c){o[c]=h/n}),t){var l=Math.round(o.y+o.height),p=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=p-o.x,o.height=l-o.y}}else o={x:0,y:0,width:0,height:0};return a.rotatable&&(o.rotate=i.rotate||0),a.scalable&&(o.scaleX=i.scaleX||1,o.scaleY=i.scaleY||1),o},setData:function(t){var a=this.options,i=this.imageData,r=this.canvasData,s={};if(this.ready&&!this.disabled&&nt(t)){var o=!1;a.rotatable&&y(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,o=!0),a.scalable&&(y(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,o=!0),y(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var n=i.width/i.naturalWidth;y(t.x)&&(s.left=t.x*n+r.left),y(t.y)&&(s.top=t.y*n+r.top),y(t.width)&&(s.width=t.width*n),y(t.height)&&(s.height=t.height*n),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?T({},this.containerData):{}},getImageData:function(){return this.sized?T({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,a={};return this.ready&&X(["left","top","width","height","naturalWidth","naturalHeight"],function(i){a[i]=t[i]}),a},setCanvasData:function(t){var a=this.canvasData,i=a.aspectRatio;return this.ready&&!this.disabled&&nt(t)&&(y(t.left)&&(a.left=t.left),y(t.top)&&(a.top=t.top),y(t.width)?(a.width=t.width,a.height=t.width/i):y(t.height)&&(a.height=t.height,a.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:t.left,top:t.top,width:t.width,height:t.height}),a||{}},setCropBoxData:function(t){var a=this.cropBoxData,i=this.options.aspectRatio,r,s;return this.ready&&this.cropped&&!this.disabled&&nt(t)&&(y(t.left)&&(a.left=t.left),y(t.top)&&(a.top=t.top),y(t.width)&&t.width!==a.width&&(r=!0,a.width=t.width),y(t.height)&&t.height!==a.height&&(s=!0,a.height=t.height),i&&(r?a.height=a.width/i:s&&(a.width=a.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,i=ma(this.image,this.imageData,a,t);if(!this.cropped)return i;var r=this.getData(),s=r.x,o=r.y,n=r.width,l=r.height,p=i.width/Math.floor(a.naturalWidth);p!==1&&(s*=p,o*=p,n*=p,l*=p);var h=n/l,c=Q({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),u=Q({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),m=Q({aspectRatio:h,width:t.width||(p!==1?i.width:n),height:t.height||(p!==1?i.height:l)}),d=m.width,v=m.height;d=Math.min(c.width,Math.max(u.width,d)),v=Math.min(c.height,Math.max(u.height,v));var g=document.createElement("canvas"),b=g.getContext("2d");g.width=lt(d),g.height=lt(v),b.fillStyle=t.fillColor||"transparent",b.fillRect(0,0,d,v);var S=t.imageSmoothingEnabled,O=S===void 0?!0:S,R=t.imageSmoothingQuality;b.imageSmoothingEnabled=O,R&&(b.imageSmoothingQuality=R);var I=i.width,f=i.height,C=s,M=o,A,x,H,B,q,j;C<=-n||C>I?(C=0,A=0,H=0,q=0):C<=0?(H=-C,C=0,A=Math.min(I,n+C),q=A):C<=I&&(H=0,A=Math.min(n,I-C),q=A),A<=0||M<=-l||M>f?(M=0,x=0,B=0,j=0):M<=0?(B=-M,M=0,x=Math.min(f,l+M),j=x):M<=f&&(B=0,x=Math.min(l,f-M),j=x);var W=[C,M,A,x];if(q>0&&j>0){var J=d/n;W.push(H*J,B*J,q*J,j*J)}return b.drawImage.apply(b,[i].concat(Se(W.map(function(bt){return Math.floor(lt(bt))})))),g},setAspectRatio:function(t){var a=this.options;return!this.disabled&&!At(t)&&(a.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var a=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var s=t===Kt,o=a.movable&&t===Ae;t=s||o?t:He,a.dragMode=t,wt(i,vt,t),ht(i,$t,s),ht(i,zt,o),a.cropBoxMovable||(wt(r,vt,t),ht(r,$t,s),ht(r,zt,o))}return this}},Xa=F.Cropper,ze=function(){function e(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pi(this,e),!t||!ia.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=T({},ye,nt(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Ui(e,[{key:"init",value:function(){var a=this.element,i=a.tagName.toLowerCase(),r;if(!a[D]){if(a[D]=this,i==="img"){if(this.isImg=!0,r=a.getAttribute("src")||"",this.originalUrl=r,!r)return;r=a.src}else i==="canvas"&&window.HTMLCanvasElement&&(r=a.toDataURL());this.load(r)}}},{key:"load",value:function(a){var i=this;if(!!a){this.url=a,this.imageData={};var r=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(ta.test(a)){ea.test(a)?this.read(ba(a)):this.clone();return}var o=new XMLHttpRequest,n=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=n,o.onerror=n,o.ontimeout=n,o.onprogress=function(){o.getResponseHeader("content-type")!==be&&o.abort()},o.onload=function(){i.read(o.response)},o.onloadend=function(){i.reloading=!1,i.xhr=null},s.checkCrossOrigin&&xe(a)&&r.crossOrigin&&(a=Me(a)),o.open("GET",a,!0),o.responseType="arraybuffer",o.withCredentials=r.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(a){var i=this.options,r=this.imageData,s=Ca(a),o=0,n=1,l=1;if(s>1){this.url=ya(a,be);var p=xa(s);o=p.rotate,n=p.scaleX,l=p.scaleY}i.rotatable&&(r.rotate=o),i.scalable&&(r.scaleX=n,r.scaleY=l),this.clone()}},{key:"clone",value:function(){var a=this.element,i=this.url,r=a.crossOrigin,s=i;this.options.checkCrossOrigin&&xe(i)&&(r||(r="anonymous"),s=Me(i)),this.crossOrigin=r,this.crossOriginUrl=s;var o=document.createElement("img");r&&(o.crossOrigin=r),o.src=s||i,o.alt=a.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Y(o,pe),a.parentNode.insertBefore(o,a.nextSibling)}},{key:"start",value:function(){var a=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var r=F.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(F.navigator.userAgent),s=function(p,h){T(a.imageData,{naturalWidth:p,naturalHeight:h,aspectRatio:p/h}),a.initialImageData=T({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(i.naturalWidth&&!r){s(i.naturalWidth,i.naturalHeight);return}var o=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){s(o.width,o.height),r||n.removeChild(o)},o.src=i.src,r||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,i=this.options,r=this.image,s=a.parentNode,o=document.createElement("div");o.innerHTML=aa;var n=o.querySelector(".".concat(D,"-container")),l=n.querySelector(".".concat(D,"-canvas")),p=n.querySelector(".".concat(D,"-drag-box")),h=n.querySelector(".".concat(D,"-crop-box")),c=h.querySelector(".".concat(D,"-face"));this.container=s,this.cropper=n,this.canvas=l,this.dragBox=p,this.cropBox=h,this.viewBox=n.querySelector(".".concat(D,"-view-box")),this.face=c,l.appendChild(r),Y(a,k),s.insertBefore(n,a.nextSibling),V(r,pe),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,Y(h,k),i.guides||Y(h.getElementsByClassName("".concat(D,"-dashed")),k),i.center||Y(h.getElementsByClassName("".concat(D,"-center")),k),i.background&&Y(n,"".concat(D,"-bg")),i.highlight||Y(c,_i),i.cropBoxMovable&&(Y(c,zt),wt(c,vt,Zt)),i.cropBoxResizable||(Y(h.getElementsByClassName("".concat(D,"-line")),k),Y(h.getElementsByClassName("".concat(D,"-point")),k)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),L(i.ready)&&z(a,me,i.ready,{once:!0}),pt(a,me)}}},{key:"unbuild",value:function(){if(!!this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),V(this.element,k)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Xa,e}},{key:"setDefaults",value:function(a){T(ye,nt(a)&&a)}}]),e}();T(ze.prototype,Ma,Ea,Oa,Da,Ta,Sa);const Pe={};Pe.getData=e=>new Promise((t,a)=>{let i={};Ya(e).then(r=>{i.arrayBuffer=r,i.orientation=Na(r),t(i)}).catch(r=>{a(r)})});function Ya(e){let t=null;return new Promise((a,i)=>{if(e.src)if(/^data\:/i.test(e.src))t=Aa(e.src),a(t);else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(o){t=o.target.result,a(t)},Ia(e.src,function(o){r.readAsArrayBuffer(o)})}else{var s=new XMLHttpRequest;s.onload=function(){if(this.status==200||this.status===0)t=s.response,a(t);else throw"Could not load image";s=null},s.open("GET",e.src,!0),s.responseType="arraybuffer",s.send(null)}else i("img error")})}function Ia(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(i){(this.status==200||this.status===0)&&t(this.response)},a.send()}function Aa(e){e=e.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var t=atob(e),a=t.length,i=new ArrayBuffer(a),r=new Uint8Array(i),s=0;s<a;s++)r[s]=t.charCodeAt(s);return i}function Ha(e,t,a){var i="",r;for(r=t,a+=t;r<a;r++)i+=String.fromCharCode(e.getUint8(r));return i}function Na(e){var t=new DataView(e),a=t.byteLength,i,r,s,o,n,l,p,h,c,u;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(c=2;c<a;){if(t.getUint8(c)===255&&t.getUint8(c+1)===225){p=c;break}c++}if(p&&(r=p+4,s=p+10,Ha(t,r,4)==="Exif"&&(l=t.getUint16(s),n=l===18761,(n||l===19789)&&t.getUint16(s+2,n)===42&&(o=t.getUint32(s+4,n),o>=8&&(h=s+o)))),h){for(a=t.getUint16(h,n),u=0;u<a;u++)if(c=h+u*12+2,t.getUint16(c,n)===274){c+=8,i=t.getUint16(c,n);break}}return i}var Wa=(e,t)=>{const a=e.__vccOpts||e;for(const[i,r]of t)a[i]=r;return a};const La=st({data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:()=>[1,1]},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:()=>10}},computed:{cropInfo(){let e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){let t=1;this.high&&!this.full&&(t=window.devicePixelRatio),this.enlarge!==1&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE(){return!!window.ActiveXObject||"ActiveXObject"in window},passive(){return this.isIE?null:{passive:!1}}},watch:{img(){this.checkedImg()},imgs(e){e!==""&&this.reload()},cropW(){this.showPreview()},cropH(){this.showPreview()},cropOffsertX(){this.showPreview()},cropOffsertY(){this.showPreview()},scale(e,t){this.showPreview()},x(){this.showPreview()},y(){this.showPreview()},autoCrop(e){e&&this.goAutoCrop()},autoCropWidth(){this.autoCrop&&this.goAutoCrop()},autoCropHeight(){this.autoCrop&&this.goAutoCrop()},mode(){this.checkedImg()},rotate(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion(e){var t=navigator.userAgent.split(" "),a="";let i=0;const r=new RegExp(e,"i");for(var s=0;s<t.length;s++)r.test(t[s])&&(a=t[s]);return a?i=a.split("/")[1].split("."):i=["0","0","0"],i},checkOrientationImage(e,t,a,i){if(this.getVersion("chrome")[0]>=81)t=-1;else if(this.getVersion("safari")[0]>=605){const o=this.getVersion("version");o[0]>13&&o[1]>1&&(t=-1)}else{const o=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(o){let n=o[1];n=n.split("_"),(n[0]>13||n[0]>=13&&n[1]>=4)&&(t=-1)}}let r=document.createElement("canvas"),s=r.getContext("2d");switch(s.save(),t){case 2:r.width=a,r.height=i,s.translate(a,0),s.scale(-1,1);break;case 3:r.width=a,r.height=i,s.translate(a/2,i/2),s.rotate(180*Math.PI/180),s.translate(-a/2,-i/2);break;case 4:r.width=a,r.height=i,s.translate(0,i),s.scale(1,-1);break;case 5:r.height=a,r.width=i,s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:r.width=i,r.height=a,s.translate(i/2,a/2),s.rotate(90*Math.PI/180),s.translate(-a/2,-i/2);break;case 7:r.height=a,r.width=i,s.rotate(.5*Math.PI),s.translate(a,-i),s.scale(-1,1);break;case 8:r.height=a,r.width=i,s.translate(i/2,a/2),s.rotate(-90*Math.PI/180),s.translate(-a/2,-i/2);break;default:r.width=a,r.height=i}s.drawImage(e,0,0,a,i),s.restore(),r.toBlob(o=>{let n=URL.createObjectURL(o);URL.revokeObjectURL(this.imgs),this.imgs=n},"image/"+this.outputType,1)},checkedImg(){if(this.img===null||this.img===""){this.imgs="",this.clearCrop();return}this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();let e=new Image;if(e.onload=()=>{if(this.img==="")return this.$emit("img-load","error"),!1;let a=e.width,i=e.height;Pe.getData(e).then(r=>{this.orientation=r.orientation||1;let s=Number(this.maxImgSize);if(!this.orientation&&a<s&i<s){this.imgs=this.img;return}a>s&&(i=i/a*s,a=s),i>s&&(a=a/i*s,i=s),this.checkOrientationImage(e,this.orientation,a,i)})},e.onerror=()=>{this.$emit("img-load","error")},this.img.substr(0,4)!=="data"&&(e.crossOrigin=""),this.isIE){var t=new XMLHttpRequest;t.onload=function(){var a=URL.createObjectURL(this.response);e.src=a},t.open("GET",this.img,!0),t.responseType="blob",t.send()}else e.src=this.img},startMove(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in e?e.clientX:e.touches[0].clientX)-this.x,this.moveY=("clientY"in e?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),e.touches.length==2&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale(e){e.preventDefault();let t=this.scale;var a={x:this.touches[0].clientX,y:this.touches[0].clientY},i={x:e.touches[0].clientX,y:e.touches[0].clientY},r={x:this.touches[1].clientX,y:this.touches[1].clientY},s={x:e.touches[1].clientX,y:e.touches[1].clientY},o=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),n=Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2)),l=n-o,p=1;p=p/this.trueWidth>p/this.trueHeight?p/this.trueHeight:p/this.trueWidth,p=p>.1?.1:p;var h=p*l;if(!this.touchNow){if(this.touchNow=!0,l>0?t+=Math.abs(h):l<0&&t>Math.abs(h)&&(t-=Math.abs(h)),this.touches=e.touches,setTimeout(()=>{this.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t}},cancelTouchScale(e){window.removeEventListener("touchmove",this.touchScale)},moveImg(e){if(e.preventDefault(),e.touches&&e.touches.length===2)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;let t="clientX"in e?e.clientX:e.touches[0].clientX,a="clientY"in e?e.clientY:e.touches[0].clientY,i,r;i=t-this.moveX,r=a-this.moveY,this.$nextTick(()=>{if(this.centerBox){let s=this.getImgAxis(i,r,this.scale),o=this.getCropAxis(),n=this.trueHeight*this.scale,l=this.trueWidth*this.scale,p,h,c,u;switch(this.rotate){case 1:case-1:case 3:case-3:p=this.cropOffsertX-this.trueWidth*(1-this.scale)/2+(n-l)/2,h=this.cropOffsertY-this.trueHeight*(1-this.scale)/2+(l-n)/2,c=p-n+this.cropW,u=h-l+this.cropH;break;default:p=this.cropOffsertX-this.trueWidth*(1-this.scale)/2,h=this.cropOffsertY-this.trueHeight*(1-this.scale)/2,c=p-l+this.cropW,u=h-n+this.cropH;break}s.x1>=o.x1&&(i=p),s.y1>=o.y1&&(r=h),s.x2<=o.x2&&(i=c),s.y2<=o.y2&&(r=u)}this.x=i,this.y=r,this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})})},leaveImg(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize(e){e.preventDefault();let t=this.scale;var a=e.deltaY||e.wheelDelta,i=navigator.userAgent.indexOf("Firefox");a=i>0?a*30:a,this.isIE&&(a=-a);var r=this.coe;r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth;var s=r*a;s<0?t+=Math.abs(s):t>Math.abs(s)&&(t-=Math.abs(s));let o=s<0?"add":"reduce";if(o!==this.coeStatus&&(this.coeStatus=o,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(()=>{this.scaling=!1,this.coe=this.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},changeScale(e){let t=this.scale;e=e||1;var a=20;if(a=a/this.trueWidth>a/this.trueHeight?a/this.trueHeight:a/this.trueWidth,e=e*a,e>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop(e){e.preventDefault();var t="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,a="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(()=>{var i=t-this.cropX,r=a-this.cropY;if(i>0?(this.cropW=i+this.cropChangeX>this.w?this.w-this.cropChangeX:i,this.cropOffsertX=this.cropChangeX):(this.cropW=this.w-this.cropChangeX+Math.abs(i)>this.w?this.cropChangeX:Math.abs(i),this.cropOffsertX=this.cropChangeX+i>0?this.cropChangeX+i:0),!this.fixed)r>0?(this.cropH=r+this.cropChangeY>this.h?this.h-this.cropChangeY:r,this.cropOffsertY=this.cropChangeY):(this.cropH=this.h-this.cropChangeY+Math.abs(r)>this.h?this.cropChangeY:Math.abs(r),this.cropOffsertY=this.cropChangeY+r>0?this.cropChangeY+r:0);else{var s=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];s+this.cropOffsertY>this.h?(this.cropH=this.h-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],i>0?this.cropOffsertX=this.cropChangeX:this.cropOffsertX=this.cropChangeX-this.cropW):this.cropH=s,this.cropOffsertY=this.cropOffsertY}})},changeCropSize(e,t,a,i,r){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=a,this.changeCropTypeX=i,this.changeCropTypeY=r,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow(e){e.preventDefault();var t="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,a="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;let i=this.w,r=this.h,s=0,o=0;if(this.centerBox){let n=this.getImgAxis(),l=n.x2,p=n.y2;s=n.x1>0?n.x1:0,o=n.y1>0?n.y1:0,i>l&&(i=l),r>p&&(r=p)}this.$nextTick(()=>{var n=t-this.cropX,l=a-this.cropY;if(this.canChangeX&&(this.changeCropTypeX===1?this.cropOldW-n>0?(this.cropW=i-this.cropChangeX-n<=i-s?this.cropOldW-n:this.cropOldW+this.cropChangeX-s,this.cropOffsertX=i-this.cropChangeX-n<=i-s?this.cropChangeX+n:s):(this.cropW=Math.abs(n)+this.cropChangeX<=i?Math.abs(n)-this.cropOldW:i-this.cropOldW-this.cropChangeX,this.cropOffsertX=this.cropChangeX+this.cropOldW):this.changeCropTypeX===2&&(this.cropOldW+n>0?(this.cropW=this.cropOldW+n+this.cropOffsertX<=i?this.cropOldW+n:i-this.cropOffsertX,this.cropOffsertX=this.cropChangeX):(this.cropW=i-this.cropChangeX+Math.abs(n+this.cropOldW)<=i-s?Math.abs(n+this.cropOldW):this.cropChangeX-s,this.cropOffsertX=i-this.cropChangeX+Math.abs(n+this.cropOldW)<=i-s?this.cropChangeX-Math.abs(n+this.cropOldW):s))),this.canChangeY&&(this.changeCropTypeY===1?this.cropOldH-l>0?(this.cropH=r-this.cropChangeY-l<=r-o?this.cropOldH-l:this.cropOldH+this.cropChangeY-o,this.cropOffsertY=r-this.cropChangeY-l<=r-o?this.cropChangeY+l:o):(this.cropH=Math.abs(l)+this.cropChangeY<=r?Math.abs(l)-this.cropOldH:r-this.cropOldH-this.cropChangeY,this.cropOffsertY=this.cropChangeY+this.cropOldH):this.changeCropTypeY===2&&(this.cropOldH+l>0?(this.cropH=this.cropOldH+l+this.cropOffsertY<=r?this.cropOldH+l:r-this.cropOffsertY,this.cropOffsertY=this.cropChangeY):(this.cropH=r-this.cropChangeY+Math.abs(l+this.cropOldH)<=r-o?Math.abs(l+this.cropOldH):this.cropChangeY-o,this.cropOffsertY=r-this.cropChangeY+Math.abs(l+this.cropOldH)<=r-o?this.cropChangeY-Math.abs(l+this.cropOldH):o))),this.canChangeX&&this.fixed){var p=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];p+this.cropOffsertY>r?(this.cropH=r-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0]):this.cropH=p}if(this.canChangeY&&this.fixed){var h=this.cropH/this.fixedNumber[1]*this.fixedNumber[0];h+this.cropOffsertX>i?(this.cropW=i-this.cropOffsertX,this.cropH=this.cropW/this.fixedNumber[0]*this.fixedNumber[1]):this.cropW=h}})},checkCropLimitSize(){let{cropW:e,cropH:t,limitMinSize:a}=this,i=new Array;return Array.isArray[a]?i=a:i=[a,a],e=parseFloat(i[0]),t=parseFloat(i[1]),[e,t]},changeCropEnd(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop(){this.cropW===0&&this.cropH===0&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop(){this.crop=!0},stopCrop(){this.crop=!1},clearCrop(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&e.touches.length===2)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);let t="clientX"in e?e.clientX:e.touches[0].clientX,a="clientY"in e?e.clientY:e.touches[0].clientY,i,r;i=t-this.cropOffsertX,r=a-this.cropOffsertY,this.cropX=i,this.cropY=r,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop(e,t){let a=0,i=0;e&&(e.preventDefault(),a="clientX"in e?e.clientX:e.touches[0].clientX,i="clientY"in e?e.clientY:e.touches[0].clientY),this.$nextTick(()=>{let r,s,o=a-this.cropX,n=i-this.cropY;if(t&&(o=this.cropOffsertX,n=this.cropOffsertY),o<=0?r=0:o+this.cropW>this.w?r=this.w-this.cropW:r=o,n<=0?s=0:n+this.cropH>this.h?s=this.h-this.cropH:s=n,this.centerBox){let l=this.getImgAxis();r<=l.x1&&(r=l.x1),r+this.cropW>l.x2&&(r=l.x2-this.cropW),s<=l.y1&&(s=l.y1),s+this.cropH>l.y2&&(s=l.y2-this.cropH)}this.cropOffsertX=r,this.cropOffsertY=s,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})})},getImgAxis(e,t,a){e=e||this.x,t=t||this.y,a=a||this.scale;let i={x1:0,x2:0,y1:0,y2:0},r=this.trueWidth*a,s=this.trueHeight*a;switch(this.rotate){case 0:i.x1=e+this.trueWidth*(1-a)/2,i.x2=i.x1+this.trueWidth*a,i.y1=t+this.trueHeight*(1-a)/2,i.y2=i.y1+this.trueHeight*a;break;case 1:case-1:case 3:case-3:i.x1=e+this.trueWidth*(1-a)/2+(r-s)/2,i.x2=i.x1+this.trueHeight*a,i.y1=t+this.trueHeight*(1-a)/2+(s-r)/2,i.y2=i.y1+this.trueWidth*a;break;default:i.x1=e+this.trueWidth*(1-a)/2,i.x2=i.x1+this.trueWidth*a,i.y1=t+this.trueHeight*(1-a)/2,i.y2=i.y1+this.trueHeight*a;break}return i},getCropAxis(){let e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked(e){let t=document.createElement("canvas"),a=new Image,i=this.rotate,r=this.trueWidth,s=this.trueHeight,o=this.cropOffsertX,n=this.cropOffsertY;a.onload=()=>{if(this.cropW!==0){let h=t.getContext("2d"),c=1;this.high&!this.full&&(c=window.devicePixelRatio),this.enlarge!==1&!this.full&&(c=Math.abs(Number(this.enlarge)));let u=this.cropW*c,m=this.cropH*c,d=r*this.scale*c,v=s*this.scale*c,g=(this.x-o+this.trueWidth*(1-this.scale)/2)*c,b=(this.y-n+this.trueHeight*(1-this.scale)/2)*c;switch(p(u,m),h.save(),i){case 0:this.full?(p(u/this.scale,m/this.scale),h.drawImage(a,g/this.scale,b/this.scale,d/this.scale,v/this.scale)):h.drawImage(a,g,b,d,v);break;case 1:case-3:this.full?(p(u/this.scale,m/this.scale),g=g/this.scale+(d/this.scale-v/this.scale)/2,b=b/this.scale+(v/this.scale-d/this.scale)/2,h.rotate(i*90*Math.PI/180),h.drawImage(a,b,-g-v/this.scale,d/this.scale,v/this.scale)):(g=g+(d-v)/2,b=b+(v-d)/2,h.rotate(i*90*Math.PI/180),h.drawImage(a,b,-g-v,d,v));break;case 2:case-2:this.full?(p(u/this.scale,m/this.scale),h.rotate(i*90*Math.PI/180),g=g/this.scale,b=b/this.scale,h.drawImage(a,-g-d/this.scale,-b-v/this.scale,d/this.scale,v/this.scale)):(h.rotate(i*90*Math.PI/180),h.drawImage(a,-g-d,-b-v,d,v));break;case 3:case-1:this.full?(p(u/this.scale,m/this.scale),g=g/this.scale+(d/this.scale-v/this.scale)/2,b=b/this.scale+(v/this.scale-d/this.scale)/2,h.rotate(i*90*Math.PI/180),h.drawImage(a,-b-d/this.scale,g,d/this.scale,v/this.scale)):(g=g+(d-v)/2,b=b+(v-d)/2,h.rotate(i*90*Math.PI/180),h.drawImage(a,-b-d,g,d,v));break;default:this.full?(p(u/this.scale,m/this.scale),h.drawImage(a,g/this.scale,b/this.scale,d/this.scale,v/this.scale)):h.drawImage(a,g,b,d,v)}h.restore()}else{let h=r*this.scale,c=s*this.scale,u=t.getContext("2d");switch(u.save(),i){case 0:p(h,c),u.drawImage(a,0,0,h,c);break;case 1:case-3:p(c,h),u.rotate(i*90*Math.PI/180),u.drawImage(a,0,-c,h,c);break;case 2:case-2:p(h,c),u.rotate(i*90*Math.PI/180),u.drawImage(a,-h,-c,h,c);break;case 3:case-1:p(c,h),u.rotate(i*90*Math.PI/180),u.drawImage(a,-h,0,h,c);break;default:p(h,c),u.drawImage(a,0,0,h,c)}u.restore()}e(t)};var l=this.img.substr(0,4);l!=="data"&&(a.crossOrigin="Anonymous"),a.src=this.imgs;function p(h,c){t.width=Math.round(h),t.height=Math.round(c)}},getCropData(e){this.getCropChecked(t=>{e(t.toDataURL("image/"+this.outputType,this.outputSize))})},getCropBlob(e){this.getCropChecked(t=>{t.toBlob(a=>e(a),"image/"+this.outputType,this.outputSize)})},showPreview(){if(this.isCanShow)this.isCanShow=!1,setTimeout(()=>{this.isCanShow=!0},16);else return!1;let e=this.cropW,t=this.cropH,a=this.scale;var i={};i.div={width:`${e}px`,height:`${t}px`};let r=(this.x-this.cropOffsertX)/a,s=(this.y-this.cropOffsertY)/a,o=0;i.w=e,i.h=t,i.url=this.imgs,i.img={width:`${this.trueWidth}px`,height:`${this.trueHeight}px`,transform:`scale(${a})translate3d(${r}px, ${s}px, ${o}px)rotateZ(${this.rotate*90}deg)`},i.html=`
      <div class="show-preview" style="width: ${i.w}px; height: ${i.h}px,; overflow: hidden">
        <div style="width: ${e}px; height: ${t}px">
          <img src=${i.url} style="width: ${this.trueWidth}px; height: ${this.trueHeight}px; transform:
          scale(${a})translate3d(${r}px, ${s}px, ${o}px)rotateZ(${this.rotate*90}deg)">
        </div>
      </div>`,this.$emit("realTime",i),this.$emit("real-time",i)},reload(){let e=new Image;e.onload=()=>{this.w=parseFloat(window.getComputedStyle(this.$refs.cropper).width),this.h=parseFloat(window.getComputedStyle(this.$refs.cropper).height),this.trueWidth=e.width,this.trueHeight=e.height,this.original?this.scale=1:this.scale=this.checkedMode(),this.$nextTick(()=>{this.x=-(this.trueWidth-this.trueWidth*this.scale)/2+(this.w-this.trueWidth*this.scale)/2,this.y=-(this.trueHeight-this.trueHeight*this.scale)/2+(this.h-this.trueHeight*this.scale)/2,this.loading=!1,this.autoCrop&&this.goAutoCrop(),this.$emit("img-load","success"),this.$emit("imgLoad","success"),setTimeout(()=>{this.showPreview()},20)})},e.onerror=()=>{this.$emit("imgLoad","error"),this.$emit("img-load","error")},e.src=this.imgs},checkedMode(){let e=1,t=this.trueWidth,a=this.trueHeight;const i=this.mode.split(" ");switch(i[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":t=this.w,e=t/this.trueWidth,a=a*e,a<this.h&&(a=this.h,e=a/this.trueHeight);break;default:try{let r=i[0];if(r.search("px")!==-1){r=r.replace("px",""),t=parseFloat(r);const s=t/this.trueWidth;let o=1,n=i[1];n.search("px")!==-1&&(n=n.replace("px",""),a=parseFloat(n),o=a/this.trueHeight),e=Math.min(s,o)}if(r.search("%")!==-1&&(r=r.replace("%",""),t=parseFloat(r)/100*this.w,e=t/this.trueWidth),i.length===2&&r==="auto"){let s=i[1];s.search("px")!==-1&&(s=s.replace("px",""),a=parseFloat(s),e=a/this.trueHeight),s.search("%")!==-1&&(s=s.replace("%",""),a=parseFloat(s)/100*this.h,e=a/this.trueHeight)}}catch(r){e=1}}return e},goAutoCrop(e,t){if(this.imgs===""||this.imgs===null)return;this.clearCrop(),this.cropping=!0;let a=this.w,i=this.h;if(this.centerBox){const o=Math.abs(this.rotate)%2>0;let n=(o?this.trueHeight:this.trueWidth)*this.scale,l=(o?this.trueWidth:this.trueHeight)*this.scale;a=n<a?n:a,i=l<i?l:i}var r=e||parseFloat(this.autoCropWidth),s=t||parseFloat(this.autoCropHeight);(r===0||s===0)&&(r=a*.8,s=i*.8),r=r>a?a:r,s=s>i?i:s,this.fixed&&(s=r/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(s=this.h,r=s/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(r,s)},changeCrop(e,t){if(this.centerBox){let a=this.getImgAxis();e>a.x2-a.x1&&(e=a.x2-a.x1,t=e/this.fixedNumber[0]*this.fixedNumber[1]),t>a.y2-a.y1&&(t=a.y2-a.y1,e=t/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick(()=>{this.cropOffsertX=(this.w-this.cropW)/2,this.cropOffsertY=(this.h-this.cropH)/2,this.centerBox&&this.moveCrop(null,!0)})},refresh(){this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(()=>{this.checkedImg()})},rotateLeft(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear(){this.rotate=0},checkoutImgAxis(e,t,a){e=e||this.x,t=t||this.y,a=a||this.scale;let i=!0;if(this.centerBox){let r=this.getImgAxis(e,t,a),s=this.getCropAxis();r.x1>=s.x1&&(i=!1),r.x2<=s.x2&&(i=!1),r.y1>=s.y1&&(i=!1),r.y2<=s.y2&&(i=!1)}return i}},mounted(){this.support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";let e=this;var t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,i,r){for(var s=atob(this.toDataURL(i,r).split(",")[1]),o=s.length,n=new Uint8Array(o),l=0;l<o;l++)n[l]=s.charCodeAt(l);a(new Blob([n],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},unmounted(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}}),ka={key:0,class:"cropper-box"},Ra=["src"],Ba={class:"cropper-view-box"},$a=["src"],za={key:1};function Pa(e,t,a,i,r,s){return U(),Z("div",{class:"vue-cropper",ref:"cropper",onMouseover:t[28]||(t[28]=(...o)=>e.scaleImg&&e.scaleImg(...o)),onMouseout:t[29]||(t[29]=(...o)=>e.cancelScale&&e.cancelScale(...o))},[e.imgs?(U(),Z("div",ka,[kt(E("div",{class:"cropper-box-canvas",style:ot({width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+e.rotate*90+"deg)"})},[E("img",{src:e.imgs,alt:"cropper-img",ref:"cropperImg"},null,8,Ra)],4),[[Nt,!e.loading]])])):ct("",!0),E("div",{class:G(["cropper-drag-box",{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping}]),onMousedown:t[0]||(t[0]=(...o)=>e.startMove&&e.startMove(...o)),onTouchstart:t[1]||(t[1]=(...o)=>e.startMove&&e.startMove(...o))},null,34),kt(E("div",{class:"cropper-crop-box",style:ot({width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"})},[E("span",Ba,[E("img",{style:ot({width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+e.rotate*90+"deg)"}),src:e.imgs,alt:"cropper-img"},null,12,$a)]),E("span",{class:"cropper-face cropper-move",onMousedown:t[2]||(t[2]=(...o)=>e.cropMove&&e.cropMove(...o)),onTouchstart:t[3]||(t[3]=(...o)=>e.cropMove&&e.cropMove(...o))},null,32),e.info?(U(),Z("span",{key:0,class:"crop-info",style:ot({top:e.cropInfo.top})},Wt(e.cropInfo.width)+" × "+Wt(e.cropInfo.height),5)):ct("",!0),e.fixedBox?ct("",!0):(U(),Z("span",za,[E("span",{class:"crop-line line-w",onMousedown:t[4]||(t[4]=o=>e.changeCropSize(o,!1,!0,0,1)),onTouchstart:t[5]||(t[5]=o=>e.changeCropSize(o,!1,!0,0,1))},null,32),E("span",{class:"crop-line line-a",onMousedown:t[6]||(t[6]=o=>e.changeCropSize(o,!0,!1,1,0)),onTouchstart:t[7]||(t[7]=o=>e.changeCropSize(o,!0,!1,1,0))},null,32),E("span",{class:"crop-line line-s",onMousedown:t[8]||(t[8]=o=>e.changeCropSize(o,!1,!0,0,2)),onTouchstart:t[9]||(t[9]=o=>e.changeCropSize(o,!1,!0,0,2))},null,32),E("span",{class:"crop-line line-d",onMousedown:t[10]||(t[10]=o=>e.changeCropSize(o,!0,!1,2,0)),onTouchstart:t[11]||(t[11]=o=>e.changeCropSize(o,!0,!1,2,0))},null,32),E("span",{class:"crop-point point1",onMousedown:t[12]||(t[12]=o=>e.changeCropSize(o,!0,!0,1,1)),onTouchstart:t[13]||(t[13]=o=>e.changeCropSize(o,!0,!0,1,1))},null,32),E("span",{class:"crop-point point2",onMousedown:t[14]||(t[14]=o=>e.changeCropSize(o,!1,!0,0,1)),onTouchstart:t[15]||(t[15]=o=>e.changeCropSize(o,!1,!0,0,1))},null,32),E("span",{class:"crop-point point3",onMousedown:t[16]||(t[16]=o=>e.changeCropSize(o,!0,!0,2,1)),onTouchstart:t[17]||(t[17]=o=>e.changeCropSize(o,!0,!0,2,1))},null,32),E("span",{class:"crop-point point4",onMousedown:t[18]||(t[18]=o=>e.changeCropSize(o,!0,!1,1,0)),onTouchstart:t[19]||(t[19]=o=>e.changeCropSize(o,!0,!1,1,0))},null,32),E("span",{class:"crop-point point5",onMousedown:t[20]||(t[20]=o=>e.changeCropSize(o,!0,!1,2,0)),onTouchstart:t[21]||(t[21]=o=>e.changeCropSize(o,!0,!1,2,0))},null,32),E("span",{class:"crop-point point6",onMousedown:t[22]||(t[22]=o=>e.changeCropSize(o,!0,!0,1,2)),onTouchstart:t[23]||(t[23]=o=>e.changeCropSize(o,!0,!0,1,2))},null,32),E("span",{class:"crop-point point7",onMousedown:t[24]||(t[24]=o=>e.changeCropSize(o,!1,!0,0,2)),onTouchstart:t[25]||(t[25]=o=>e.changeCropSize(o,!1,!0,0,2))},null,32),E("span",{class:"crop-point point8",onMousedown:t[26]||(t[26]=o=>e.changeCropSize(o,!0,!0,2,2)),onTouchstart:t[27]||(t[27]=o=>e.changeCropSize(o,!0,!0,2,2))},null,32)]))],4),[[Nt,e.cropping]])],544)}var Ue=Wa(La,[["render",Pa],["__scopeId","data-v-26736c2c"]]);typeof window!="undefined"&&window.Vue&&window.Vue.createApp({}).component("VueCropper",Ue);const je=e=>(Ci("data-v-b9cbdc62"),e=e(),xi(),e),Ua={class:"flex justify-between"},ja=je(()=>E("main",{class:"flex justify-between"},[E("img",{class:"img",src:li,alt:"img"})],-1)),Va=je(()=>E("br",null,null,-1)),Fa={class:"flex justify-between"},Ga={class:"vueCropper"},qa=st({name:"cropper"}),_a=st(Ct(yt({},qa),{setup(e){let t;Ee(()=>{const n=document.querySelector(".img");t=new ze(n,{viewMode:1,dragMode:"move",aspectRatio:3/2,autoCropArea:1,cropBoxMovable:!0,cropBoxResizable:!0,background:!0,movable:!0,crop(l){console.log(l.detail.x),console.log(l.detail.y),console.log(l.detail.width),console.log(l.detail.height),console.log(l.detail.rotate),console.log(l.detail.scaleX),console.log(l.detail.scaleY)}})});let a=It(!1),i=It();const r=()=>{t.getCroppedCanvas().toBlob(n=>{let l=new FileReader;l.onloadend=p=>{i.value=p.target.result,a.value=!0},l.readAsDataURL(n),console.log(URL.createObjectURL(n))},"image/jpeg")},s=It(null),o=()=>{s.value.getCropData(n=>{i.value=n,a.value=!0}),s.value.getCropBlob(n=>{console.log(n)})};return(n,l)=>{const p=ci,h=hi,c=ni,u=oi,m=zi;return U(),Z("section",null,[$(c,{shadow:"hover"},{header:N(()=>[E("nav",Ua,[$(p,{type:"primary",onClick:r},{default:N(()=>[xt("裁切")]),_:1}),$(h,{type:"primary",target:"_blank",href:"https://github.com/fengyuanchen/cropperjs"},{default:N(()=>[xt("cropperjs")]),_:1})])]),default:N(()=>[ja]),_:1}),Va,$(m,{modelValue:w(a),"onUpdate:modelValue":l[0]||(l[0]=d=>yi(a)?a.value=d:a=d)},{default:N(()=>[$(u,{src:w(i)},null,8,["src"])]),_:1},8,["modelValue"]),$(c,{shadow:"hover"},{header:N(()=>[E("nav",Fa,[$(p,{type:"primary",onClick:o},{default:N(()=>[xt("裁切")]),_:1}),$(h,{type:"primary",target:"_blank",href:"https://github.com/xyxiao001/vue-cropper"},{default:N(()=>[xt("vue-cropper")]),_:1})])]),default:N(()=>[E("main",Ga,[$(w(Ue),{ref_key:"cropperRef",ref:s,autoCrop:"",img:"http://127.0.0.1:5173/src/assets/images/login.png",outputType:"png"},null,512)])]),_:1})])}}}));const Xs=Yi(_a,[["__scopeId","data-v-b9cbdc62"]]);export{Xs as default};
