var v=(x,f,r)=>new Promise((c,n)=>{var o=t=>{try{p(r.next(t))}catch(a){n(a)}},m=t=>{try{p(r.throw(t))}catch(a){n(a)}},p=t=>t.done?c(t.value):Promise.resolve(t.value).then(o,m);p((r=r.apply(x,f)).next())});import{K as k,L as C,x as R,A as B,M as U,l as $}from"./element-plus-cbff5993.js";import{g as F,s as L,r as w,U as N,o as b,ab as y,ac as e,b as T,c as i,X as d,S as I,u as _,ad as S,P as q,n as G}from"./@vue-f164b9f1.js";import{_ as K}from"./Catalogue.vue_vue_type_script_setup_true_name_Catalogue_lang-dcc322a6.js";import{_ as P}from"./Menu.vue_vue_type_script_setup_true_name_Menu_lang-286beb93.js";import{_ as X}from"./Button.vue_vue_type_script_setup_true_name_Button_lang-4302f96c.js";import{a as j,b as z,m as H}from"./menu-b7fe4809.js";import{b as l,u as D}from"./rules-b9e771ba.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-unified-cbbf5a2b.js";import"./lodash-d8f670e1.js";import"./@amap-9fd45ac7.js";import"./@sxzz-ad8bfd58.js";import"./@vueuse-b183cf27.js";import"./@element-plus-296a610a.js";import"./dayjs-f0fd0f9b.js";import"./async-validator-f102eabc.js";import"./@ctrl-43a29356.js";import"./escape-html-12e99df8.js";import"./normalize-wheel-es-c175a4cf.js";import"./vue-4c7ac246.js";import"./@floating-ui-5f39704e.js";import"./memoize-one-0650c7b0.js";import"./index-a56e33e9.js";import"./pinia-b6a13eed.js";import"./vue-demi-68b8001f.js";import"./axios-226f391c.js";import"./qs-b010a38c.js";import"./side-channel-a082fe58.js";import"./get-intrinsic-5660d814.js";import"./has-symbols-8f82dcae.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-75c15918.js";import"./object-inspect-4572ba77.js";import"./preload-helper-41c905a7.js";import"./vue-router-bc8ea068.js";import"./nprogress-57f984c9.js";import"./lodash-es-ca3eac7d.js";const O={class:"dialog-footer"},Q=F({__name:"AddMenuDialog",emits:["refresh"],setup(x,{expose:f,emit:r}){const c=[K,P,X];let n=L();const o=w(!1);let m=w(!1);const p=()=>v(this,null,function*(){yield n.value.validate(),m.value=!0;try{l.id?yield j(l):yield z(l),$.ElMessage({message:"操作成功",type:"success"}),r("refresh"),o.value=!1,yield H().setMenuList()}finally{m.value=!1}});return f({openDialog:a=>v(this,null,function*(){o.value=!0,yield G(),a?D(a):D()})}),(a,s)=>{const g=k,M=C,A=R,V=B,E=U,h=N("auth");return b(),y(E,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=u=>o.value=u),title:_(l).id?"编辑菜单":"新增菜单",width:550},{footer:e(()=>[T("span",O,[i(V,{onClick:s[1]||(s[1]=u=>o.value=!1)},{default:e(()=>[d("取消")]),_:1}),I((b(),y(V,{type:"primary",loading:_(m),onClick:p},{default:e(()=>[d("确定")]),_:1},8,["loading"])),[[h,"addMenu"]])])]),default:e(()=>[i(A,{required:"","label-width":"80px",label:"菜单类型"},{default:e(()=>[i(M,{modelValue:_(l).type,"onUpdate:modelValue":s[0]||(s[0]=u=>_(l).type=u)},{default:e(()=>[i(g,{label:1},{default:e(()=>[d("目录")]),_:1}),i(g,{label:2},{default:e(()=>[d("菜单")]),_:1}),i(g,{label:3},{default:e(()=>[d("按钮")]),_:1})]),_:1},8,["modelValue"])]),_:1}),i(q,{name:"el-fade-in",mode:"out-in"},{default:e(()=>[(b(),y(S(c[_(l).type-1]),{ref_key:"componentRef",ref:n},null,512))]),_:1})]),_:1},8,["modelValue","title"])}}});const Ne=J(Q,[["__scopeId","data-v-c22d8962"]]);export{Ne as default};
