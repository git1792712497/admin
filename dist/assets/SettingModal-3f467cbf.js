var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,a=(e,t,o)=>new Promise(((s,i)=>{var a=e=>{try{n(o.next(e))}catch(t){i(t)}},r=e=>{try{n(o.throw(e))}catch(t){i(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,r);n((o=o.apply(e,t)).next())}));import{a as r,B as n}from"./index-c9e02f09.js";import{u as l,B as c}from"./useForm-76a4ff23.js";import{g as p,s as m}from"./tenant-2dbceb61.js";import{a as u,w as d,o as f,j as b,H as j,n as y,k as g,ag as h}from"./index-c5a6c875.js";import"./useWindowSizeFn-72c85a53.js";import"./FullscreenOutlined-9b414b92.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./index-bb91fa2a.js";import"./get-8f9589fb.js";import"./uuid-f62a8acd.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const v=u({emits:["success","register"],setup(e,{emit:u}){const v=d(),[w,{setFieldsValue:P,resetFields:x,validate:O}]=l({labelWidth:90,schemas:[{field:"accountNumber",label:"账号额度",component:"InputNumber",componentProps:{style:{width:"100%"}},defaultValue:-1},{field:"expireTime",label:"过期时间",component:"DatePicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss",showTime:!0,style:{width:"100%"},getPopupContainer:()=>document.body}}],showActionButtonGroup:!1,actionColOptions:{span:23},baseColProps:{span:24}}),[F,{setModalProps:B,closeModal:M}]=r((e=>a(this,null,(function*(){if(x(),v.value=e.ids.join(","),1==e.ids.length){const a=yield p({id:e.ids[0]});P(((e,a)=>{for(var r in a||(a={}))o.call(a,r)&&i(e,r,a[r]);if(t)for(var r of t(a))s.call(a,r)&&i(e,r,a[r]);return e})({},a))}B({confirmLoading:!1})}))));function R(){return a(this,null,(function*(){try{const e=yield O();e.ids=v.value,e.expireTime||(e.expireTime=""),B({confirmLoading:!0}),yield m(e),M(),u("success")}finally{B({confirmLoading:!1})}}))}return(e,t)=>(f(),b(g(n),h(e.$attrs,{onRegister:g(F),title:"租户授权配置",onOk:R}),{default:j((()=>[y(g(c),{onRegister:g(w)},null,8,["onRegister"])])),_:1},16,["onRegister"]))}});export{v as default};
