var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,l=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&r(e,o,t[o]);if(n)for(var o of n(t))a.call(t,o)&&r(e,o,t[o]);return e};import{a as i,b as c,cj as u,s as d,o as f,h as g,i as p,ad as h,q as m,ae as v,w as b,aa as y,k as C,d8 as H,dh as w,B as F,V as x,bv as $,di as j,ax as P,ba as S,f as O,aj as R,ab as k,j as _,al as B,am as E,H as W,an as L,ao as T,O as A,K as I,t as D,ag as M,l as V,Y as q}from"./index-c5a6c875.js";import{o as z}from"./onMountedOrActivated-48cd1b25.js";import{u as K}from"./useWindowSizeFn-72c85a53.js";import{a as N}from"./useContentViewHeight-e138bd2a.js";const Y=d(i({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=c("page-footer"),{getCalcContentWidth:t}=u();return{prefixCls:e,getCalcContentWidth:t}}}),[["render",function(e,t,o,n,s,a){return f(),g("div",{class:m(e.prefixCls),style:v({width:e.getCalcContentWidth})},[p("div",{class:m(`${e.prefixCls}__left`)},[h(e.$slots,"left",{},void 0,!0)],2),h(e.$slots,"default",{},void 0,!0),p("div",{class:m(`${e.prefixCls}__right`)},[h(e.$slots,"right",{},void 0,!0)],2)],6)}],["__scopeId","data-v-7984b8f2"]]);function G(e,t,o,n,s=0,a=b(0)){const r=b(null),{footerHeightRef:l}=N();let i={useLayoutFooter:!0};function c(e,t="all"){var o,n,s,a;function r(e){return Number(e.replace(/[^\d]/g,""))}let l=0;const i="0px";if(e){const c=getComputedStyle(e),u=r(null!=(o=null==c?void 0:c.marginTop)?o:i),d=r(null!=(n=null==c?void 0:c.marginBottom)?n:i),f=r(null!=(s=null==c?void 0:c.paddingTop)?s:i),g=r(null!=(a=null==c?void 0:c.paddingBottom)?a:i);"all"===t?(l+=u,l+=d,l+=f,l+=g):"top"===t?(l+=u,l+=f):(l+=d,l+=g)}return l}function u(e){return null==e?null:e instanceof HTMLDivElement?e:e.$el}function d(){return d=this,f=null,g=function*(){var d;if(!e.value)return;yield y();const f=u(C(t));if(!f)return;const{bottomIncludeBody:g}=H(f);let p=0;o.forEach((e=>{var t,o;p+=null!=(o=null==(t=u(C(e)))?void 0:t.offsetHeight)?o:0}));let h=null!=(d=c(f))?d:0;n.forEach((e=>{h+=c(u(C(e)))}));let m=0;function v(e,t){if(e&&t){const o=e.parentElement;o&&(x(t)?o.classList.contains(t)?m+=c(o,"bottom"):(m+=c(o,"bottom"),v(o,t)):$(t)&&t>0&&(m+=c(o,"bottom"),v(o,--t)))}}w(s)?v(f,C(s)):v(f,s);let b=g-C(l)-C(a)-p-h-m;const F=()=>{var e;null==(e=i.elements)||e.forEach((e=>{var t,o;b+=null!=(o=null==(t=u(C(e)))?void 0:t.offsetHeight)?o:0}))};i.useLayoutFooter&&C(l),F(),r.value=b},new Promise(((e,t)=>{var o=e=>{try{s(g.next(e))}catch(o){t(o)}},n=e=>{try{s(g.throw(e))}catch(o){t(o)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,n);s((g=g.apply(d,f)).next())}));var d,f,g}return z((()=>{y((()=>{d()}))})),K((()=>{d()}),50,{immediate:!0}),F((()=>[l.value]),(()=>{d()}),{flush:"post",immediate:!0}),{redoHeight:function(){y((()=>{d()}))},setCompensation:e=>{i=e},contentHeight:r}}const J=d(i({name:"PageWrapper",components:{PageFooter:Y,PageHeader:j},inheritAttrs:!1,props:{title:P.string,dense:P.bool,ghost:P.bool,content:P.string,contentStyle:{type:Object},contentBackground:P.bool,contentFullHeight:P.bool,contentClass:P.string,fixedHeight:P.bool,upwardSpace:P.oneOfType([P.number,P.string]).def(0)},setup(e,{slots:n,attrs:s}){const a=b(null),r=b(null),i=b(null),u=b(null),{prefixCls:d}=c("page-wrapper");S(U,O((()=>e.fixedHeight)));const f=O((()=>e.contentFullHeight)),g=O((()=>e.upwardSpace)),{redoHeight:p,setCompensation:h,contentHeight:m}=G(f,a,[r,u],[i],g);h({useLayoutFooter:!0,elements:[u]});const v=O((()=>{var t;return[d,{[`${d}--dense`]:e.dense},null!=(t=s.class)?t:{}]})),y=O((()=>e.content||(null==n?void 0:n.headerContent)||e.title||w.value.length)),H=O((()=>(null==n?void 0:n.leftFooter)||(null==n?void 0:n.rightFooter))),w=O((()=>Object.keys(R(n,"default","leftFooter","rightFooter","headerContent")))),x=O((()=>{const{contentFullHeight:n,contentStyle:s,fixedHeight:a}=e;if(!n)return l({},s);const r=`${C(m)}px`;return l((i=l({},s),t(i,o({minHeight:r}))),a?{height:r}:{});var i})),$=O((()=>{const{contentBackground:t,contentClass:o}=e;return[`${d}-content`,o,{[`${d}-content-bg`]:t}]}));return F((()=>[H.value]),(()=>{p()}),{flush:"post",immediate:!0}),{getContentStyle:x,wrapperRef:a,headerRef:r,contentRef:i,footerRef:u,getClass:v,getHeaderSlots:w,prefixCls:d,getShowHeader:y,getShowFooter:H,omit:R,getContentClass:$}}}),[["render",function(e,t,o,n,s,a){const r=k("PageHeader"),l=k("PageFooter");return f(),g("div",{class:m(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(f(),_(r,M({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),B({default:W((()=>[e.content?(f(),g(A,{key:0},[I(D(e.content),1)],64)):h(e.$slots,"headerContent",{key:1})])),_:2},[E(e.getHeaderSlots,(t=>({name:t,fn:W((o=>[h(e.$slots,t,L(T(o||{})))]))})))]),1040,["ghost","title"])):V("",!0),p("div",{class:m(["overflow-hidden",e.getContentClass]),style:v(e.getContentStyle),ref:"contentRef"},[h(e.$slots,"default")],6),e.getShowFooter?(f(),_(l,{key:1,ref:"footerRef"},{left:W((()=>[h(e.$slots,"leftFooter")])),right:W((()=>[h(e.$slots,"rightFooter")])),_:3},512)):V("",!0)],2)}]]);q(Y);const Q=q(J),U="PageWrapperFixedHeight";export{U as P,Q as a};
