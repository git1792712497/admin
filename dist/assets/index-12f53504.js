import e from"./TopQuery-bca1524e.js";import{g as t,_ as a,a as s}from"./AddOrEditWebsiteModal-05a2f08b.js";import{F as o,B as i}from"./TableImg-d2c728a3.js";import"./useForm-76a4ff23.js";import{u as d}from"./useTable-0a379cac.js";import{s as r,a as n,w as c,B as l,eg as m,ab as p,o as f,h as u,n as j,k as b,H as y,t as h,l as k,j as x,O as g,K as w}from"./index-c5a6c875.js";import{E as v}from"./EyeOutlined-274e25e9.js";import{D as _}from"./DeleteOutlined-2ff0b91d.js";import"./index-c9e02f09.js";import"./useWindowSizeFn-72c85a53.js";import"./FullscreenOutlined-9b414b92.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./ImageUpload-f0074c94.js";import"./attach-17a7a276.js";import"./index-33df9098.js";import"./onMountedOrActivated-48cd1b25.js";import"./useContentViewHeight-e138bd2a.js";import"./CheckOutlined-752df576.js";import"./uuid-f62a8acd.js";import"./merge-5148c4a3.js";import"./get-8f9589fb.js";import"./sortable.esm-7c85b602.js";import"./RedoOutlined-e07a9f51.js";import"./index-bb91fa2a.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const I=[{title:"站点名称",dataIndex:"name",width:250,key:1},{title:"站点图标",dataIndex:"icon",width:150,key:2},{title:"站点域名",dataIndex:"domain",width:250,key:3},{title:"站点描述",dataIndex:"description",width:350},{title:"操作",width:200,fixed:"right",key:99}],O={class:"page"},C=["href"],E=w("编辑"),M=w("删除"),W=r(n({setup(r){const[n,{reload:w}]=d({api:t});let W=c([]);l(W,(e=>{}));const A=e=>{return t=this,a=null,o=function*(){try{yield s(e),w({searchInfo:{}})}catch(t){}},new Promise(((e,s)=>{var i=e=>{try{r(o.next(e))}catch(t){s(t)}},d=e=>{try{r(o.throw(e))}catch(t){s(t)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,d);r((o=o.apply(t,a)).next())}));var t,a,o},q=m(),F=()=>q.value.openAddWebsiteModal({});return(t,s)=>{const d=p("a-image"),r=p("a-button"),c=p("a-popconfirm");return f(),u("section",O,[j(e,{onAddWebsite:F}),j(a,{onSuccess:b(w),ref_key:"addOrEditWebsiteModalRef",ref:q},null,8,["onSuccess"]),j(b(i),{onRegister:b(n),title:"站点列表",columns:b(I),rowKey:e=>e.id,striped:!1},{bodyCell:y((({text:e,record:t,index:a,column:s})=>[3===s.key?(f(),u("a",{key:0,href:e},h(e),9,C)):k("",!0),2===s.key?(f(),x(d,{key:1,width:40,src:"https://oss.ygcydn.com:11080/qunjing-cms/upload/20230106/6bdc235e5f2236252d1c118b27a4d28e.png"},{previewMask:y((()=>[j(b(v))])),_:1})):k("",!0),99===s.key?(f(),u(g,{key:2},[j(r,{type:"link",onClick:e=>(e=>q.value.openAddWebsiteModal(e))(t)},{default:y((()=>[E,j(b(o))])),_:2},1032,["onClick"]),j(c,{onConfirm:e=>A(t.id),title:"是否确认删除?","ok-text":"确认","cancel-text":"取消"},{default:y((()=>[j(r,{type:"link",danger:""},{default:y((()=>[M,j(b(_))])),_:1})])),_:2},1032,["onConfirm"])],64)):k("",!0)])),_:1},8,["onRegister","columns","rowKey"])])}}}),[["__scopeId","data-v-78df4c51"]]);export{W as default};
