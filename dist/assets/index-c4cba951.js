var N=Object.defineProperty,V=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var C=(r,t,o)=>t in r?N(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,v=(r,t)=>{for(var o in t||(t={}))j.call(t,o)&&C(r,o,t[o]);if(k)for(var o of k(t))q.call(t,o)&&C(r,o,t[o]);return r},E=(r,t)=>V(r,I(t));var A=(r,t,o)=>new Promise((d,u)=>{var f=l=>{try{p(o.next(l))}catch(n){u(n)}},g=l=>{try{p(o.throw(l))}catch(n){u(n)}},p=l=>l.done?d(l.value):Promise.resolve(l.value).then(f,g);p((o=o.apply(r,t)).next())});import{H as F,A as H,g as P,a as S,R as X,I as Z,B as G,S as J}from"./element-plus-ef60ab81.js";import{_ as K}from"./TopSearch.vue_vue_type_script_setup_true_name_TopSearch_lang-6028516e.js";import{a as O,b as Q}from"./index-3fab503d.js";import U from"./AddMenuDialog-c8c774d1.js";import{g as W}from"./index-6920edb1.js";import{u as Y}from"./vue-request-2d9149b2.js";import{F as R,s as ee,p as te,aj as M,o as s,$ as c,a0 as a,a2 as e,u as m,X as oe,ac as _,Z as D}from"./@vue-46cd96cd.js";import"./lodash-unified-cbbf5a2b.js";import"./lodash-d8f670e1.js";import"./@amap-9fd45ac7.js";import"./@sxzz-ad8bfd58.js";import"./@vueuse-c4efa120.js";import"./@element-plus-32e4db1a.js";import"./async-validator-f102eabc.js";import"./@ctrl-83f18216.js";import"./escape-html-12e99df8.js";import"./normalize-wheel-es-c175a4cf.js";import"./vue-bd17b2e0.js";import"./@floating-ui-5f39704e.js";import"./dayjs-7cbd9aff.js";import"./memoize-one-0650c7b0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./preload-helper-41c905a7.js";import"./vue-router-e8f17689.js";import"./nprogress-57f984c9.js";import"./pinia-2c3c5428.js";import"./vue-demi-71ba0ef2.js";import"./axios-226f391c.js";import"./qs-b010a38c.js";import"./side-channel-a082fe58.js";import"./get-intrinsic-5660d814.js";import"./has-symbols-8f82dcae.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-75c15918.js";import"./object-inspect-4572ba77.js";import"./lodash-es-81e82e73.js";const ae=R({name:"index"}),Pe=R(E(v({},ae),{setup(r){let t=ee();const{data:o,run:d,loading:u}=Y(Q),f=te(()=>o.value&&W(o.value.data.sort((p,l)=>p.sort-l.sort))),g=p=>A(this,null,function*(){yield O(p),d()});return(p,l)=>{const n=F,b=H,y=P,T=M("Edit"),h=S,w=M("Delete"),x=X,$=Z,B=G,z=J;return s(),c(B,null,{header:a(()=>[e(K,{onAddMenu:l[0]||(l[0]=i=>m(t).openDialog())})]),default:a(()=>[e(U,{onRefresh:m(d),menuData:m(f),ref_key:"AddMenuDialogRef",ref:t},null,8,["onRefresh","menuData"]),oe((s(),c($,{size:"large",border:"",data:m(f),"row-key":"id"},{default:a(()=>[e(n,{prop:"title",label:"菜单名称",width:"180"}),e(n,{prop:"icon",label:"菜单图标",width:"100",align:"center"},{default:a(({row:i})=>[e(b,{icon:i.icon},null,8,["icon"])]),_:1}),e(n,{prop:"path",label:"路由路径"}),e(n,{prop:"component",label:"组件路径"}),e(n,{prop:"sort",label:"排序"}),e(n,{prop:"type",label:"菜单类型"},{default:a(({row:i})=>[i.type===1?(s(),c(y,{key:0,type:"success"},{default:a(()=>[_("目录")]),_:1})):D("",!0),i.type===2?(s(),c(y,{key:1},{default:a(()=>[_("菜单")]),_:1})):D("",!0),i.type===3?(s(),c(y,{key:2,type:"warning"},{default:a(()=>[_("按钮")]),_:1})):D("",!0)]),_:1}),e(n,{prop:"createTime",label:"创建时间"}),e(n,{prop:"updateTime",label:"修改时间"}),e(n,{fixed:"right",label:"操作",width:"200",align:"center"},{default:a(({row:i})=>[e(b,{link:"",type:"primary",size:"small",onClick:L=>m(t).openDialog(i)},{default:a(()=>[_("编辑 "),e(h,null,{default:a(()=>[e(T)]),_:1})]),_:2},1032,["onClick"]),e(x,{title:"是否确认删除?",onConfirm:L=>g(i.id)},{reference:a(()=>[e(b,{link:"",type:"danger",size:"small"},{default:a(()=>[_("删除"),e(h,null,{default:a(()=>[e(w)]),_:1})]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[z,m(u)]])]),_:1})}}}));export{Pe as default};
