var I=Object.defineProperty,S=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var k=(r,e,t)=>e in r?I(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e)=>{for(var t in e||(e={}))q.call(e,t)&&k(r,t,e[t]);if(D)for(var t of D(e))G.call(e,t)&&k(r,t,e[t]);return r},T=(r,e)=>S(r,j(e));var C=(r,e,t)=>new Promise((c,u)=>{var f=l=>{try{p(t.next(l))}catch(n){u(n)}},g=l=>{try{p(t.throw(l))}catch(n){u(n)}},p=l=>l.done?c(l.value):Promise.resolve(l.value).then(f,g);p((t=t.apply(r,e)).next())});import{F as P,A as X,g as Z,a as H,R as J,G as K,B as O,S as Q}from"./element-plus-3c3e7816.js";import{_ as U}from"./TopSearch.vue_vue_type_script_setup_true_name_TopSearch_lang-07138db7.js";import{b as W,g as Y,c as ee}from"./menu-2a3ae1f5.js";import te from"./AddMenuDialog-b9e57a20.js";import{u as oe}from"./vue-request-68043ae1.js";import{F as A,s as ae,e as ne,aj as E,ao as ie,o as s,$ as d,a0 as a,a2 as o,u as _,X as x,ac as m,Z as b,a4 as M}from"./@vue-0bd7c233.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-unified-cbbf5a2b.js";import"./lodash-d8f670e1.js";import"./@amap-9fd45ac7.js";import"./@sxzz-ad8bfd58.js";import"./@vueuse-b3c2dc13.js";import"./@element-plus-9f43ecf9.js";import"./dayjs-604b50be.js";import"./async-validator-f102eabc.js";import"./@ctrl-83f18216.js";import"./escape-html-12e99df8.js";import"./normalize-wheel-es-c175a4cf.js";import"./vue-171b62d6.js";import"./@floating-ui-5f39704e.js";import"./memoize-one-0650c7b0.js";import"./pinia-c63b1ff9.js";import"./vue-demi-71ba0ef2.js";import"./axios-226f391c.js";import"./qs-b010a38c.js";import"./side-channel-a082fe58.js";import"./get-intrinsic-5660d814.js";import"./has-symbols-8f82dcae.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-75c15918.js";import"./object-inspect-4572ba77.js";import"./preload-helper-41c905a7.js";import"./vue-router-169b55e4.js";import"./nprogress-57f984c9.js";import"./lodash-es-81e82e73.js";const le=A({name:"index"}),pe=A(T(w({},le),{setup(r){let e=ae();const{data:t,run:c,loading:u}=oe(Y),f=ne(()=>t.value&&ee(t.value.data.sort((p,l)=>p.sort-l.sort))),g=p=>C(this,null,function*(){yield W(p),c()});return(p,l)=>{const n=P,h=X,y=Z,R=E("Edit"),v=H,$=E("Delete"),B=J,z=K,L=O,N=ie("auth"),V=Q;return s(),d(L,null,{header:a(()=>[o(U,{onAddMenu:l[0]||(l[0]=i=>_(e).openDialog())})]),default:a(()=>[o(te,{onRefresh:_(c),menuData:_(f),ref_key:"AddMenuDialogRef",ref:e},null,8,["onRefresh","menuData"]),x((s(),d(z,{size:"large",border:"",data:_(f),"row-key":"id"},{default:a(()=>[o(n,{prop:"title",label:"菜单名称",width:"150"}),o(n,{prop:"icon",label:"菜单图标",width:"100",align:"center"},{default:a(({row:i})=>[o(h,{icon:i.icon},null,8,["icon"])]),_:1}),o(n,{prop:"path",label:"路由路径",width:"200"}),o(n,{prop:"component",label:"组件路径",width:"200"}),o(n,{prop:"sort",label:"排序"}),o(n,{prop:"type",label:"菜单类型",width:"100"},{default:a(({row:i})=>[i.type===1?(s(),d(y,{key:0,type:"success"},{default:a(()=>[m("目录")]),_:1})):b("",!0),i.type===2?(s(),d(y,{key:1},{default:a(()=>[m("菜单")]),_:1})):b("",!0),i.type===3?(s(),d(y,{key:2,type:"warning"},{default:a(()=>[m("按钮")]),_:1})):b("",!0)]),_:1}),o(n,{prop:"createTime",label:"创建时间",width:"230"},{default:a(({row:i})=>[m(M(p.$formatTime(i.createTime)),1)]),_:1}),o(n,{prop:"updateTime",label:"修改时间",width:"230"},{default:a(({row:i})=>[m(M(p.$formatTime(i.updateTime)),1)]),_:1}),o(n,{fixed:"right",label:"操作",width:"200",align:"center"},{default:a(({row:i})=>[o(h,{link:"",type:"primary",size:"small",onClick:F=>_(e).openDialog(i)},{default:a(()=>[m("编辑 "),o(v,null,{default:a(()=>[o(R)]),_:1})]),_:2},1032,["onClick"]),o(B,{title:"是否确认删除?",onConfirm:F=>g(i.id)},{reference:a(()=>[x((s(),d(h,{link:"",type:"danger",size:"small"},{default:a(()=>[m("删除"),o(v,null,{default:a(()=>[o($)]),_:1})]),_:1})),[[N,["deleteMenu"]]])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[V,_(u)]])]),_:1})}}}));const He=re(pe,[["__scopeId","data-v-7d67a8f6"]]);export{He as default};
