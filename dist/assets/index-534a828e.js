var I=Object.defineProperty,q=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var k=(r,e,t)=>e in r?I(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e)=>{for(var t in e||(e={}))G.call(e,t)&&k(r,t,e[t]);if(D)for(var t of D(e))P.call(e,t)&&k(r,t,e[t]);return r},T=(r,e)=>q(r,F(e));var C=(r,e,t)=>new Promise((c,u)=>{var f=l=>{try{p(t.next(l))}catch(n){u(n)}},g=l=>{try{p(t.throw(l))}catch(n){u(n)}},p=l=>l.done?c(l.value):Promise.resolve(l.value).then(f,g);p((t=t.apply(r,e)).next())});import{F as U,A as X,g as j,a as H,R as J,G as K,B as O,S as Q}from"./element-plus-cbff5993.js";import{_ as W}from"./TopSearch.vue_vue_type_script_setup_true_name_TopSearch_lang-8b858b2f.js";import{c as Y,m as Z,g as ee,d as te}from"./menu-b7fe4809.js";import oe from"./AddMenuDialog-351a8ba5.js";import{u as ae}from"./vue-request-76775085.js";import{g as A,s as ne,f as ie,an as E,U as re,o as s,ab as _,ac as a,c as o,u as d,S as M,X as m,aa as h,ae as x,p as le}from"./@vue-f164b9f1.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-unified-cbbf5a2b.js";import"./lodash-d8f670e1.js";import"./@amap-9fd45ac7.js";import"./@sxzz-ad8bfd58.js";import"./@vueuse-b183cf27.js";import"./@element-plus-296a610a.js";import"./dayjs-f0fd0f9b.js";import"./async-validator-f102eabc.js";import"./@ctrl-43a29356.js";import"./escape-html-12e99df8.js";import"./normalize-wheel-es-c175a4cf.js";import"./vue-4c7ac246.js";import"./@floating-ui-5f39704e.js";import"./memoize-one-0650c7b0.js";import"./pinia-b6a13eed.js";import"./vue-demi-68b8001f.js";import"./axios-226f391c.js";import"./qs-b010a38c.js";import"./side-channel-a082fe58.js";import"./get-intrinsic-5660d814.js";import"./has-symbols-8f82dcae.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-75c15918.js";import"./object-inspect-4572ba77.js";import"./preload-helper-41c905a7.js";import"./vue-router-bc8ea068.js";import"./nprogress-57f984c9.js";import"./lodash-es-ca3eac7d.js";import"./Catalogue.vue_vue_type_script_setup_true_name_Catalogue_lang-dcc322a6.js";import"./index-a56e33e9.js";import"./rules-b9e771ba.js";import"./Menu.vue_vue_type_script_setup_true_name_Menu_lang-286beb93.js";import"./Button.vue_vue_type_script_setup_true_name_Button_lang-4302f96c.js";const me=A({name:"menuSystem"}),se=A(T(w({},me),{setup(r){let e=ne();const{data:t,run:c,loading:u}=ae(ee),f=ie(()=>t.value&&te(t.value.data.sort((p,l)=>p.sort-l.sort)));le("menuList",f);const g=p=>C(this,null,function*(){yield Y(p),c(),Z().setMenuList()});return(p,l)=>{const n=U,y=X,b=j,R=E("Edit"),v=H,$=E("Delete"),L=J,S=K,B=O,z=re("auth"),N=Q;return s(),_(B,null,{header:a(()=>[o(W,{onAddMenu:l[0]||(l[0]=i=>d(e).openDialog())})]),default:a(()=>[o(oe,{onRefresh:d(c),ref_key:"AddMenuDialogRef",ref:e},null,8,["onRefresh"]),M((s(),_(S,{size:"large",border:"",data:d(f),"row-key":"id"},{default:a(()=>[o(n,{prop:"title",label:"菜单名称",width:"250"}),o(n,{prop:"icon",label:"菜单图标",width:"100",align:"center"},{default:a(({row:i})=>[o(y,{icon:i.icon},null,8,["icon"])]),_:1}),o(n,{prop:"path",label:"路由路径",width:"200"}),o(n,{prop:"component",label:"组件路径",width:"200"}),o(n,{prop:"sort",label:"排序"}),o(n,{prop:"type",label:"菜单类型",width:"100"},{default:a(({row:i})=>[i.type===1?(s(),_(b,{key:0,type:"success"},{default:a(()=>[m("目录")]),_:1})):h("",!0),i.type===2?(s(),_(b,{key:1},{default:a(()=>[m("菜单")]),_:1})):h("",!0),i.type===3?(s(),_(b,{key:2,type:"warning"},{default:a(()=>[m("按钮")]),_:1})):h("",!0)]),_:1}),o(n,{prop:"createTime",label:"创建时间",width:"230"},{default:a(({row:i})=>[m(x(p.$formatTime(i.createTime)),1)]),_:1}),o(n,{prop:"updateTime",label:"修改时间",width:"230"},{default:a(({row:i})=>[m(x(p.$formatTime(i.updateTime)),1)]),_:1}),o(n,{fixed:"right",label:"操作",width:"200",align:"center"},{default:a(({row:i})=>[o(y,{link:"",type:"primary",size:"small",onClick:V=>d(e).openDialog(i)},{default:a(()=>[m("编辑 "),o(v,null,{default:a(()=>[o(R)]),_:1})]),_:2},1032,["onClick"]),o(L,{title:"是否确认删除?",onConfirm:V=>g(i.id)},{reference:a(()=>[M((s(),_(y,{link:"",type:"danger",size:"small"},{default:a(()=>[m("删除"),o(v,null,{default:a(()=>[o($)]),_:1})]),_:1})),[[z,["deleteMenu"]]])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[N,d(u)]])]),_:1})}}}));const Ze=pe(se,[["__scopeId","data-v-b79ec45e"]]);export{Ze as default};
