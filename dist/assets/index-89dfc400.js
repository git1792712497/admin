import e from"./TopQuery-1c0ded34.js";import{g as t,_ as i,a as r}from"./AddOrEditArticleDrawer-d2a5bf15.js";import{F as a,B as o}from"./TableImg-d2c728a3.js";import"./useForm-76a4ff23.js";import{u as s}from"./useTable-0a379cac.js";import{a as d,eg as n,ab as l,o as c,h as m,n as p,k as u,H as f,O as j,l as h,K as b,eh as x}from"./index-c5a6c875.js";import{D as w}from"./DeleteOutlined-2ff0b91d.js";import"./FileUpload-27b75cd8.js";import"./attach-17a7a276.js";import"./EyeOutlined-274e25e9.js";import"./index-6c947566.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";import"./index-33df9098.js";import"./onMountedOrActivated-48cd1b25.js";import"./useWindowSizeFn-72c85a53.js";import"./useContentViewHeight-e138bd2a.js";import"./CheckOutlined-752df576.js";import"./index-c9e02f09.js";import"./FullscreenOutlined-9b414b92.js";import"./uuid-f62a8acd.js";import"./merge-5148c4a3.js";import"./get-8f9589fb.js";import"./sortable.esm-7c85b602.js";import"./RedoOutlined-e07a9f51.js";import"./index-bb91fa2a.js";import"./download-0641dcf7.js";import"./index-b52e0339.js";import"./uniqBy-e29b0e8a.js";const y=[{title:"文章标题",dataIndex:"title",width:150},{title:"文章副标题",dataIndex:"subtitle",width:250},{title:"文章介绍",dataIndex:"introduction",width:250},{title:"跳转链接",dataIndex:"linkUrl",width:250},{title:"栏目图标",dataIndex:"icon",width:100},{title:"文章来源",dataIndex:"source",width:200},{title:"重点标识",dataIndex:"highlight",width:100},{title:"操作",width:200,fixed:"right",key:99}],g={class:"page"},k=b("编辑"),O=b("删除"),A=d({setup(d){const b=n(),[A,{reload:I}]=s({api:t}),v=e=>{return t=this,i=null,a=function*(){try{yield r(e),x.success("删除成功"),I()}catch(t){}},new Promise(((e,r)=>{var o=e=>{try{d(a.next(e))}catch(t){r(t)}},s=e=>{try{d(a.throw(e))}catch(t){r(t)}},d=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,s);d((a=a.apply(t,i)).next())}));var t,i,a};return(t,r)=>{const s=l("a-button"),d=l("a-popconfirm");return c(),m("section",g,[p(e,{onAddArticle:r[0]||(r[0]=e=>u(b).openAddOrEditArticleDrawer({coverImages:[]}))}),p(i,{onSuccess:u(I),ref_key:"addOrEditArticleDrawerRef",ref:b},null,8,["onSuccess"]),p(u(o),{onRegister:u(A),title:"文章列表",columns:u(y),rowKey:e=>e.id,striped:!1},{bodyCell:f((({text:e,record:t,index:i,column:r})=>[99===r.key?(c(),m(j,{key:0},[p(s,{type:"link",onClick:e=>u(b).openAddOrEditArticleDrawer(t)},{default:f((()=>[k,p(u(a))])),_:2},1032,["onClick"]),p(d,{onConfirm:e=>v(t.id),title:"是否确认删除?","ok-text":"确认","cancel-text":"取消"},{default:f((()=>[p(s,{type:"link",danger:""},{default:f((()=>[O,p(u(w))])),_:1})])),_:2},1032,["onConfirm"])],64)):h("",!0)])),_:1},8,["onRegister","columns","rowKey"])])}}});export{A as default};
