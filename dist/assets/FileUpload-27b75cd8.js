import{u as a}from"./attach-17a7a276.js";import{a as t,eg as e,ab as s,o,h as u,n as l,H as r,k as n,j as c,O as i,K as p,eh as d}from"./index-c5a6c875.js";import{E as m,a as y}from"./EyeOutlined-274e25e9.js";const f=p("上传"),h=t({props:{count:{type:Number,default:0,require:!0}},emits:["uploadSuccess"],setup(t,{emit:p}){let h=e(!1);const g=t=>{return e=this,s=[t],o=function*({file:t}){h.value=!0;try{const e=yield a({file:t});d.success("上传成功"),p("uploadSuccess",e.data.data.link)}finally{h.value=!1}},new Promise(((a,t)=>{var u=a=>{try{r(o.next(a))}catch(e){t(e)}},l=a=>{try{r(o.throw(a))}catch(e){t(e)}},r=t=>t.done?a(t.value):Promise.resolve(t.value).then(u,l);r((o=o.apply(e,s)).next())}));var e,s,o};return(a,e)=>{const p=s("a-button"),d=s("a-upload"),v=s("a-badge");return o(),u(i,null,[l(d,{customRequest:g,multiple:"",showUploadList:!1},{default:r((()=>[l(p,{loading:n(h),ghost:"",type:"primary"},{default:r((()=>[f])),_:1},8,["loading"])])),_:1}),l(v,{count:t.count},{default:r((()=>[l(p,{ghost:"",style:{"margin-left":"10px"},type:"primary"},{default:r((()=>[t.count?(o(),c(n(m),{key:0})):(o(),c(n(y),{key:1}))])),_:1})])),_:1},8,["count"])],64)}}});export{h as default};
