import{T as e}from"./index-327d6ea5.js";import{B as t,a}from"./index-c9e02f09.js";import{s as o,a as n,w as s,ab as i,o as r,j as l,H as c,n as d,ag as u}from"./index-c5a6c875.js";import"./uuid-f62a8acd.js";import"./onMountedOrActivated-48cd1b25.js";import"./useWindowSizeFn-72c85a53.js";import"./FullscreenOutlined-9b414b92.js";import"./isEqual-f9888ec4.js";import"./_baseIsEqual-f0bca653.js";const m=o(n({name:"EditorModal",components:{Tinymce:e,BasicModal:t},emits:["success","register"],setup(e,{emit:t}){const o=s(""),n=s(""),i=s(""),[r,{setModalProps:l,closeModal:c}]=a((e=>{return t=this,a=null,s=function*(){l({confirmLoading:!1}),o.value=e.content,n.value=e.filed,i.value=e.type},new Promise(((e,o)=>{var n=e=>{try{r(s.next(e))}catch(t){o(t)}},i=e=>{try{r(s.throw(e))}catch(t){o(t)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,i);r((s=s.apply(t,a)).next())}));var t,a,s}));return{content:o,registerModal:r,handleSubmit:function(){try{c(),t("success",{content:o.value,filed:n.value,type:i.value})}finally{l({confirmLoading:!1})}}}}}),[["render",function(e,t,a,o,n,s){const m=i("Tinymce"),p=i("BasicModal");return r(),l(p,u(e.$attrs,{destroyOnClose:"",onRegister:e.registerModal,title:"编辑",onOk:e.handleSubmit,width:"720px"}),{default:c((()=>[d(m,{modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=t=>e.content=t),width:"100%"},null,8,["modelValue"])])),_:1},16,["onRegister","onOk"])}]]);export{m as default};
