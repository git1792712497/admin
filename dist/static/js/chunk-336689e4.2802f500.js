(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-336689e4"],{"0523":function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"h",(function(){return s})),a.d(e,"g",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"e",(function(){return d}));var n=a("b775");function i(t){return Object(n["a"])({url:"/sign/template/list",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/sign/template/upload",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/sign/template",method:"put",data:t})}function o(t){return Object(n["a"])({url:"/sign/template/count",method:"Get",data:t})}function l(t){return Object(n["a"])({url:"/sign/template/"+t,method:"delete"})}function c(t){return Object(n["a"])({url:"/sign/template/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/sign/template/gettemplateimg/",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/sign/template/gettemplateparams/",method:"get",params:t})}},1:function(t,e){},2:function(t,e){},"273c":function(t,e,a){"use strict";a("ee23")},3:function(t,e){},"30c2":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"g",(function(){return s})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"h",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"d",(function(){return u})),a.d(e,"e",(function(){return d}));var n=a("b775");function i(t){return Object(n["a"])({url:"/contract/attach/getinfo/"+t,method:"get"})}function s(t){return Object(n["a"])({url:"/contract/sign",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/contract/attach/param",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/contract/attach",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/contract/attach",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/sign/seal/getSealList",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/contract/attach/getPic/"+t,method:"get"})}function d(t){return Object(n["a"])({url:"/contract/attach/perfect/"+t,method:"get"})}},4:function(t,e){},"4d5c":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return l}));var n=a("b775");function i(t){return Object(n["a"])({url:"/contract/signatory/"+t,method:"get"})}function s(t){return Object(n["a"])({url:"/contract/signatory/getSignatory/"+t,method:"get"})}function r(t){return Object(n["a"])({url:"/contract/signatory",method:"put",data:t})}function o(t){return Object(n["a"])({url:"/contract/signatory/updatebyone",method:"put",data:t})}function l(t){return Object(n["a"])({url:"/contract/signatory/getInfoSelf/"+t,method:"get"})}},5:function(t,e){},6:function(t,e){},adc1:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"h",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"g",(function(){return u})),a.d(e,"d",(function(){return d}));var n=a("b775");function i(t){return Object(n["a"])({url:"/contract/info/list",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/contract/info/"+t,method:"get"})}function r(t){return Object(n["a"])({url:"/contract/info",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/contract/info",method:"put",data:t})}function l(t){return Object(n["a"])({url:"/contract/info/"+t,method:"delete"})}function c(t){return Object(n["a"])({url:"/contract/info/export",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/contract/info/sendContract",method:"put",data:t})}function d(t){return Object(n["a"])({url:"/contract/info/count",method:"Get",data:t})}},c0c7:function(t,e,a){"use strict";a.d(e,"k",(function(){return s})),a.d(e,"l",(function(){return r})),a.d(e,"g",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"p",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"m",(function(){return m})),a.d(e,"b",(function(){return p})),a.d(e,"h",(function(){return f})),a.d(e,"q",(function(){return h})),a.d(e,"r",(function(){return g})),a.d(e,"o",(function(){return b})),a.d(e,"s",(function(){return y})),a.d(e,"j",(function(){return v})),a.d(e,"n",(function(){return w})),a.d(e,"i",(function(){return x})),a.d(e,"e",(function(){return S})),a.d(e,"f",(function(){return C}));var n=a("b775"),i=a("4918");function s(t){return Object(n["a"])({url:"/system/user/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/system/user/pick",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/system/user/"+Object(i["f"])(t),method:"get"})}function l(t){return Object(n["a"])({url:"/system/user",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/system/user",method:"put",data:t})}function u(t){return Object(n["a"])({url:"/system/user/"+t,method:"delete"})}function d(t){return Object(n["a"])({url:"/system/user/export",method:"get",params:t})}function m(t,e){var a={userId:t,password:e};return Object(n["a"])({url:"/system/user/resetPwd",method:"put",data:a})}function p(t,e){var a={userId:t,status:e};return Object(n["a"])({url:"/system/user/changeStatus",method:"put",data:a})}function f(){return Object(n["a"])({url:"/system/user/profile",method:"get"})}function h(t){return Object(n["a"])({url:"/system/user/profile",method:"put",data:t})}function g(t,e){var a={oldPassword:t,newPassword:e};return Object(n["a"])({url:"/system/user/profile/updatePwd",method:"put",params:a})}function b(t,e){var a={oldPassword:t,newPassword:e};return Object(n["a"])({url:"/system/user/profile/updateSignPwd",method:"put",params:a})}function y(t){return Object(n["a"])({url:"/system/user/profile/avatar",method:"post",data:t})}function v(){return Object(n["a"])({url:"/system/user/importTemplate",method:"get"})}function w(t){return Object(n["a"])({url:"/system/user/authentication",method:"post",params:t})}function x(t){return Object(n["a"])({url:"/system/user/queryfacerecord",method:"get",params:t})}function S(t){return Object(n["a"])({url:"/system/user/facerecordsucess/"+t,method:"get"})}function C(){return Object(n["a"])({url:"/system/user/selfuser",method:"get"})}},cf5e:function(t,e){t.exports="data:image/png;base64,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"},d7a6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"130px",size:"mini"}},[n("el-row",[n("el-col",{attrs:{span:7}},[n("el-row",[n("el-col",{attrs:{span:14}},[n("div",{staticClass:"oneTitle"},[t._v("基础设置")])]),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[n("i",{staticClass:"el-icon-right"})])],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("span",{staticClass:"twoTitle",staticStyle:{"margin-left":"0px"}},[t._v("选择签约规则：")]),n("el-row",[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:20}},[n("el-form",{ref:"queryForm",attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{staticClass:"el",attrs:{placeholder:"按签约规则名称搜索",clearable:"",size:"small"},on:{blur:t.handleQuery},nativeOn:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)},function(e){return t.handleQuery(e)}]},model:{value:t.queryParams.themename,callback:function(e){t.$set(t.queryParams,"themename",e)},expression:"queryParams.themename"}},[n("i",{staticClass:"el-icon-search",staticStyle:{"margin-left":"0px"},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1)],1),n("div",{staticClass:"oneDiv"},[n("el-row",t._l(t.ruleLists,(function(e,a){return n("div",{key:a,class:t.active===e.themename?"activeBtn":"btn",attrs:{size:"mini"},on:{click:function(a){return t.handleClick(e)}}},[t._v(" "+t._s(e.themename)+" ")])})),0)],1)],1)],1),n("el-form",{staticStyle:{"margin-top":"10%"},attrs:{"label-width":"200px;"}},[n("el-form-item",{staticClass:"items",attrs:{label:"签约时间："}}),n("el-form-item",{staticClass:"item11",attrs:{label:"开始时间："}},[n("el-date-picker",{staticStyle:{width:"52%"},attrs:{size:"mini",type:"datetime",placeholder:"请选择开始时间","picker-options":t.pickerOption,disabled:t.disabledTime},model:{value:t.info.signStartDate,callback:function(e){t.$set(t.info,"signStartDate",e)},expression:"info.signStartDate"}})],1),n("el-form-item",{staticClass:"item11",attrs:{label:"截止时间："}},[n("el-date-picker",{staticStyle:{width:"52%"},attrs:{size:"mini",type:"datetime",placeholder:"请选择结束时间",disabled:t.disabledTime,"picker-options":t.pickerOptions},model:{value:t.info.signEndDate,callback:function(e){t.$set(t.info,"signEndDate",e)},expression:"info.signEndDate"}})],1),n("el-form-item",{staticClass:"items",attrs:{label:"合同所属法人单位:"}},[n("treeselect",{staticStyle:{width:"240px"},attrs:{options:t.deptOptions,appendToBody:!0,"show-count":!0,placeholder:"请选择公司或部门名称"},scopedSlots:t._u([{key:"option-label",fn:function(e){var a=e.node;return n("p",{staticStyle:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","line-height":"12px","font-size":"12px"},attrs:{title:a.label}},[[t._v(" "+t._s(a.label))]],2)}}]),model:{value:t.info.contractOwner,callback:function(e){t.$set(t.info,"contractOwner",e)},expression:"info.contractOwner"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-row",[n("el-col",{attrs:{span:14}},[n("div",{staticClass:"oneTitle"},[t._v("签约内容")])]),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[n("i",{staticClass:"el-icon-right"})])],1),n("el-row",{staticStyle:{"margin-top":"0px"}},[n("span",{staticClass:"twoTitle"},[t._v("签约主题：")])]),n("el-row",{staticClass:"oneRow",staticStyle:{"margin-top":"4%","margin-bottom":"20px"}},[n("div",[n("el-input",{staticClass:"el",staticStyle:{width:"60%","font-size":"20px","font-weight":"bolder"},attrs:{size:"mini"},model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}})],1)]),n("el-row",{staticClass:"oneRow",staticStyle:{"margin-top":"6%","margin-left":"0px"}},[n("el-col",{attrs:{span:10,offset:2}},[n("el-upload",{staticClass:"upload-demo",attrs:{accept:".pdf, .docx","show-file-list":!1,action:t.upload.url,headers:t.upload.headers,"on-success":t.handleFileSuccess,"on-progress":t.handleFileLoad}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.form.allowadd,expression:"form.allowadd"}],staticClass:"mBtn1",attrs:{type:"text"}},[t._v("增加本地文件")])],1)],1),n("el-col",{attrs:{span:10}},[n("div",[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.form.allowadd,expression:"form.allowadd"}],staticClass:"mBtn1",attrs:{type:"text"},on:{click:t.addonline}},[t._v("增加在线模板")])],1)])],1),n("el-row",{staticStyle:{"margin-top":"6%","margin-left":"0px"},attrs:{gutter:0}},[n("el-col",{attrs:{span:6}},[n("div",[n("el-button",{staticClass:"faqiqianyue",staticStyle:{padding:"5px","font-size":"10px"},attrs:{type:"primary",size:"mini",disabled:t.disabled1},on:{click:t.position}},[t._v(" 指定盖章位置 ")])],1)]),n("el-col",{attrs:{span:6}},[n("div",[n("el-button",{staticClass:"faqiqianyue",staticStyle:{padding:"5px","font-size":"10px"},attrs:{type:"primary",disabled:t.disabled2,size:"mini"},on:{click:t.editparams}},[t._v(" 完善模板参数 ")])],1)])],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadings,expression:"loadings"}],staticStyle:{"margin-top":"20px"}},[n("el-row",{attrs:{gutter:20}},t._l(t.attachlist,(function(e,a){return n("el-col",{key:a,class:{line:(a+1)%3==0},attrs:{span:8}},[n("transition-group",{staticClass:"doc-img",attrs:{name:"drag",tag:"div"}},[n("div",{key:a,staticClass:"doc-item",attrs:{draggable:!0},on:{dragenter:function(e){return t.dragenter(e,a)},dragover:function(e){return t.dragover(e,a)},dragstart:function(e){return t.dragstart(a)}}},[n("el-image",{staticClass:"preimg",attrs:{src:t.baseurl+e.preimg},on:{click:function(a){return t.preview(e)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.form.allowdel,expression:"form.allowdel"}],staticClass:"doc-page-num",on:{click:function(e){return t.deleteFile(a)}}},[n("i",{staticClass:"el-icon-remove"})]),n("div",{staticClass:"doc-paramsize"},[t._v(" 待填参数:（"+t._s(e.fenZi)+"/"+t._s(e.fenMu)+"） ")])],1)]),n("div",{staticClass:"doc-name"},[t._v(t._s(e.contractDocName))])],1)})),1)],1)],1),n("el-col",{attrs:{span:9}},[n("el-row",[n("el-col",{attrs:{span:13}},[n("div",{staticClass:"oneTitle"},[t._v("签署方和顺序")])]),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[n("el-button",{staticStyle:{"margin-top":"-10px",padding:"12px 20px 12px 20px"},attrs:{type:"text"},on:{click:t.savedraft}},[t._v("暂存草稿 ")])],1),n("el-col",{staticStyle:{"text-align":"left"},attrs:{span:5}},[n("el-button",{staticClass:"faqiqianyue",staticStyle:{"margin-top":"-10px",padding:"12px 20px 12px 20px"},attrs:{type:"primary",disabled:t.disableds},on:{click:t.sendContact}},[t._v("发起签约 ")])],1)],1),n("div",{staticClass:"main-container"},[n("el-row",[n("el-radio-group",{on:{change:t.changeHandler},model:{value:t.form.oneormore,callback:function(e){t.$set(t.form,"oneormore",e)},expression:"form.oneormore"}},[n("el-radio",{staticClass:"radioM",attrs:{label:"1"}},[t._v("单份合约签署")]),n("el-radio",{staticClass:"radioM",attrs:{label:"2"}},[t._v("多份合约同时发起")])],1)],1),n("el-row",{staticStyle:{"margin-top":"10px","margin-left":"10px","margin-bottom":"10px"}},[n("el-radio-group",{on:{change:t.changeisSeq},model:{value:t.info.isSeq,callback:function(e){t.$set(t.info,"isSeq",e)},expression:"info.isSeq"}},[n("el-radio",{staticClass:"radioM",attrs:{label:"1"}},[t._v("按下面顺序签署")]),n("el-radio",{staticClass:"radioM",attrs:{label:"2"}},[t._v("无序签署")])],1)],1),t._l(t.signatory,(function(e,i){return n("el-row",{key:i},[n("el-form",{ref:"all"+i,refInFor:!0,attrs:{model:e,rules:t.rules,"label-width":"130px",size:"mini"}},[2==e.signatoryType?n("el-card",{staticClass:"peoCard"},[0!=i&&1==t.info.isSeq?n("i",{staticClass:"el-icon-caret-top",on:{click:function(e){return t.handleUp(i)}}}):t._e(),i!=t.signatory.length-1&&1==t.info.isSeq?n("i",{staticClass:"el-icon-caret-bottom",on:{click:function(e){return t.handleDown(i)}}}):t._e(),t.signatory.length-1!=0?n("i",{staticClass:"el-icon-remove",on:{click:function(a){return t.delUnit(e,i)}}}):t._e(),n("div",{staticStyle:{margin:"0px 20px"}},[n("el-form-item",{staticClass:"item2",attrs:{"label-width":"30%",label:"发起人（发起人）:"}},[n("treeselect",{staticStyle:{width:"240px"},attrs:{options:t.deptOptions,appendToBody:!0,"show-count":!0,placeholder:"请选择公司或部门名称"},on:{change:t.editSignatory},scopedSlots:t._u([{key:"option-label",fn:function(e){var a=e.node;return n("p",{staticStyle:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","line-height":"12px","font-size":"12px"},attrs:{title:a.label}},[[t._v(" "+t._s(a.label))]],2)}}],null,!0),model:{value:e.companyName,callback:function(a){t.$set(e,"companyName",a)},expression:"all.companyName"}})],1)],1)]):t._e(),i!=t.signatory.length-1&&1==t.info.isSeq?n("img",{staticClass:"imgmiddle",attrs:{src:a("cf5e"),alt:""}}):t._e(),1==e.signatoryType?n("el-card",{staticClass:"peoCard"},[n("div",{staticStyle:{margin:"0px  20px"}},[0!=i&&1==t.info.isSeq?n("i",{staticClass:"el-icon-caret-top",on:{click:function(e){return t.handleUp(i)}}}):t._e(),i!=t.signatory.length-1&&1==t.info.isSeq?n("i",{staticClass:"el-icon-caret-bottom",on:{click:function(e){return t.handleDown(i)}}}):t._e(),t.signatory.length-1!=0?n("i",{staticClass:"el-icon-remove",on:{click:function(a){return t.delUnit(e,i)}}}):t._e(),n("el-form-item",{staticClass:"item2",staticStyle:{"margin-bottom":"6px"},attrs:{label:"个人:","label-width":"25%",prop:"name"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",type:"text",placeholder:"接收人真实姓名"},on:{blur:t.editSignatory},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"all.name"}})],1),n("el-form-item",{staticClass:"item2",attrs:{label:"手机号:","label-width":"25%",prop:"telphone"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",type:"text",placeholder:"接收人手机号"},on:{blur:t.editSignatory},model:{value:e.telphone,callback:function(a){t.$set(e,"telphone",a)},expression:"all.telphone"}})],1)],1)]):t._e(),i!=t.signatory.length-1&&1==t.info.isSeq?n("img",{staticClass:"imgmiddle",attrs:{src:a("cf5e"),alt:""}}):t._e(),0==e.signatoryType?n("el-card",{staticClass:"unitCard"},[0!=i&&1==t.info.isSeq?n("i",{staticClass:"el-icon-caret-top",on:{click:function(e){return t.handleUp(i)}}}):t._e(),i!=t.signatory.length-1&&1==t.info.isSeq?n("i",{staticClass:"el-icon-caret-bottom",on:{click:function(e){return t.handleDown(i)}}}):t._e(),t.signatory.length-1!=0?n("i",{staticClass:"el-icon-remove",on:{click:function(a){return t.delUnit(e,i)}}}):t._e(),n("div",{staticStyle:{margin:"0px 20px"}},[n("el-form-item",{staticClass:"item2",attrs:{label:"单位名称:","label-width":"25%"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",placeholder:"请输入单位名称"},on:{blur:t.editSignatory},model:{value:e.companyName,callback:function(a){t.$set(e,"companyName",a)},expression:"all.companyName"}})],1),n("el-form-item",{staticClass:"item2",staticStyle:{"margin-bottom":"6px","margin-top":"6px"},attrs:{label:"经办人:","label-width":"25%",prop:"name"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",type:"text",placeholder:"接收人真实姓名"},on:{blur:t.editSignatory},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"all.name"}})],1),n("el-form-item",{staticClass:"item2",attrs:{label:"手机号:","label-width":"25%",prop:"telphone"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",type:"text",placeholder:"接收人手机号"},on:{blur:t.editSignatory},model:{value:e.telphone,callback:function(a){t.$set(e,"telphone",a)},expression:"all.telphone"}})],1)],1)]):t._e(),i!=t.signatory.length-1&&1==t.info.isSeq?n("img",{staticClass:"imgmiddle",attrs:{src:a("cf5e"),alt:""}}):t._e()],1)],1)})),n("el-row",{staticStyle:{margin:"-10px 45px 12px 35px"}},[1==t.info.isSeq||1!=t.info.isSeq?n("el-col",{attrs:{span:6}},[n("el-button",{staticClass:"font",attrs:{type:"text"},on:{click:t.addUnit}},[t._v("增加单位")])],1):t._e(),1==t.info.isSeq||1!=t.info.isSeq?n("el-col",{attrs:{span:7}},[n("el-button",{staticClass:"font",attrs:{type:"text"},on:{click:t.addPerson}},[t._v("增加个人")])],1):t._e(),n("el-col",{attrs:{span:7}},[t.isTrue?n("el-button",{staticClass:"font",attrs:{type:"text"},on:{click:t.downloadExcel}},[t._v("下载excel模板 ")]):t._e()],1),n("el-col",{attrs:{span:4}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/",multiple:"",limit:3,"file-list":t.fileLists}},[t.isTrue?n("el-button",{staticClass:"font",attrs:{type:"text"}},[t._v(" 上传excel文件 ")]):t._e()],1)],1)],1)],2)],1)],1)],1),n("el-dialog",{attrs:{title:"合同预览",visible:t.ispreview,width:"35%"},on:{"update:visible":function(e){t.ispreview=e},closed:t.dialogClose}},[n("div",{staticStyle:{width:"100%"}},t._l(t.numPages,(function(e){return n("pdf",{key:e,ref:"pdf",refInFor:!0,attrs:{src:t.pdfurl,page:e}})})),1)]),n("el-dialog",{attrs:{visible:t.online,width:"900px"},on:{"update:visible":function(e){t.online=e}}},[n("el-row",[n("el-form",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],ref:"queryForm1",attrs:{model:t.queryParamss,inline:!0,"label-width":"100px"}},[n("el-form-item",{attrs:{prop:"ownerid"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("span",{staticClass:"item"},[t._v("管理员:")])]),n("el-select",{attrs:{filterable:"",placeholder:"请选择人员",size:"mini"},model:{value:t.queryParamss.ownerid,callback:function(e){t.$set(t.queryParamss,"ownerid",e)},expression:"queryParamss.ownerid"}},t._l(t.userOptions,(function(t){return n("el-option",{key:t.userName,attrs:{label:t.nickName,value:t.userName}})})),1)],1),n("el-form-item",{attrs:{prop:"updatetime"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("span",{staticClass:"item"},[t._v("更新时间:")])]),n("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),n("el-form-item",[n("el-button",{staticClass:"anniu",attrs:{size:"mini",plain:""},on:{click:t.resetQuery}},[t._v("重置")]),n("el-button",{staticClass:"anniu",attrs:{size:"mini",plain:""},on:{click:t.templateQuery}},[t._v("搜索")])],1)],1)],1),n("el-row",{staticStyle:{"margin-bottom":"7px"}},[n("el-col",{attrs:{span:12}},[n("el-form",{ref:"queryForm",attrs:{model:t.queryParamss,inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{staticClass:"el",staticStyle:{width:"160px"},attrs:{placeholder:"按模板名称搜索",clearable:"",size:"small"},on:{blur:t.templateQuery},nativeOn:{keyup:function(e){return t.templateQuery(e)}},model:{value:t.queryParamss.name,callback:function(e){t.$set(t.queryParamss,"name",e)},expression:"queryParamss.name"}},[n("i",{staticClass:"el-icon-search",staticStyle:{"margin-left":"0px"},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[n("el-row",{attrs:{gutter:10}},[n("right-toolbar",{staticStyle:{"margin-left":"10px","margin-top":"-2px"},attrs:{showSearch:t.showSearch,size:"mini"},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.getTemList}})],1)],1)],1),n("div",{staticClass:"dia-sty"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{"cell-style":{fontSize:"10px"},data:t.tempList},on:{"selection-change":t.handleSelectionChange,"row-click":t.handleRowClick}},[n("el-table-column",{attrs:{type:"selection",width:"50",align:"center",prop:"id"}}),n("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),n("el-table-column",{attrs:{label:"管理员",align:"center",prop:"ownerid","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.adminTochinese(e.row.ownerid)))])]}}])}),n("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"createtime",sortable:""}})],1)],1),n("div",{staticStyle:{"text-align":"center","margin-top":"-20px"}},[n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParamss.pageNum,limit:t.queryParamss.pageSize},on:{"update:page":function(e){return t.$set(t.queryParamss,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParamss,"pageSize",e)},pagination:t.getTemList}})],1),n("div",{staticStyle:{"margin-top":"-10px"}},[n("el-button",{staticStyle:{padding:"12px 44px 12px 44px"},attrs:{type:"primary",size:"mini"},on:{click:t.selecttemp}},[t._v("确定 ")])],1)],1)],1)},i=[],s=a("ade3"),r=(a("ac1f"),a("00b4"),a("a9e3"),a("d3b7"),a("159b"),a("a434"),a("b0c0"),a("3ca3"),a("ddb0"),a("1276"),a("5319"),a("ad9d"),a("2ef0")),o=a.n(r),l=a("5f87"),c=a("ee7c"),u=a("adc1"),d=a("30c2"),m=a("4d5c"),p=a("fcb7"),f=a("ca17"),h=a.n(f),g=(a("542c"),a("858e")),b=a("0523"),y=a("c0c7"),v={components:{Treeselect:h.a,pdf:g["a"]},data:function(){var t;return{active:"",multipleTable:[],flags:!1,loading:!1,disabledTime:!0,disabled1:!0,disabled2:!0,disableds:!0,loadings:!1,baseurl:"/prod-api",fileLists:void 0,numPages:null,ispreview:!1,ruleForm:{telphone:""},queryParams:{themename:void 0},form:{oneormore:"1",theme:"",themename:"",isseq:"",signtime:"",days:"",hours:"",allowadd:!1,allowdel:!1},signatory:[],info:{name:"",signStartDate:"",signEndDate:"",status:"0",contractRule:"",contractType:"",contractOwner:"",isSeq:""},contractid:"",contractLabel:"",isTrue:!1,ruleList:[],ruleLists:[],attachlist:[],deptOptions:[],labeloptions:[{value:"列表项1",label:"列表项1"},{value:"列表项2",label:"列表项2"},{value:"列表项3",label:"列表项3"}],value:[],dialogVisible:!1,pickerOption:{disabledDate:function(t){return t.getTime()<Date.now()}},pickerOptions:{shortcuts:[{text:"一天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"两天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+1728e5),t.$emit("pick",e)}},{text:"三天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+2592e5),t.$emit("pick",e)}},{text:"一周",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}},{text:"两周",onClick:function(t){var e=new Date;e.setTime(e.getTime()+12096e5),t.$emit("pick",e)}},{text:"一个月",onClick:function(t){var e=new Date;e.setTime(e.getTime()+2592e6),t.$emit("pick",e)}}],disabledDate:function(t){return t.getTime()<=Date.now()}},rules:{telphone:[{required:!0,message:"手机号不能为空"},{type:"number",message:"手机号格式不正确",trigger:"blur",transform:function(t){var e=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;return!!e.test(t)&&Number(t)}}],name:[{required:!0,message:"姓名不能为空"}]},upload:{headers:{Authorization:"Bearer "+Object(l["a"])()},url:"/prod-api/sign/signrules/upload"},total:0,online:!1,tempList:[],temptotal:0,tempids:"",tempselect:[],userOptions:[],createtime:void 0,ids:[],showSearch:!1,queryParamss:(t={name:void 0,ownerid:void 0,status:"0",pageNum:1,pageSize:10},Object(s["a"])(t,"name",void 0),Object(s["a"])(t,"ownerid",void 0),t),dateRange:[],signatoryChange:!0}},created:function(){var t=this.$route.params&&this.$route.params.id;this.contractid=t,this.getTreeselect(),this.getrules(),this.getList(),this.pickUser(),this.getTemList()},computed:{timeDefault:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate()+" "+(t.getHours()<10?"0"+t.getHours():t.getHours()));return e}},watch:{info:{handler:function(t,e){},deep:!0,immediate:!1},attachlist:{handler:function(t,e){},deep:!0,immediate:!1},signatory:{handler:function(t,e){e.length>0&&(this.signatoryChange=this.CompareJsonObj(t,e))},deep:!0,immediate:!1}},methods:{getList:function(){var t=this,e=this.contractid;e&&(Object(u["e"])(e).then((function(e){if(200===e.code){o.a.merge(t.info,e.data);t.info.contractRule;t.active=t.info.contractRule,Object(c["d"])(t.info.contractType).then((function(e){t.form.allowadd=e.data.allowadd,t.form.allowdel=e.data.allowdel}))}})),Object(d["b"])(e).then((function(e){if(200===e.code){t.attachlist=[];var a=e.data,n=0,i=0;if(""!=a){t.disabledTime=!1;for(var s=0;s<a.length;s++){t.disabled1=!1;var r=JSON.parse(a[s].contractParams),o={};o.contractId=t.contractId,o.templateId=a[s].templateId,o.contractDocUrl=a[s].contractDocUrl,o.contractPdfUrl=a[s].contractPdfUrl,o.contractDocName=a[s].contractDocName,o.preimg=a[s].preimg,o.signLocation=a[s].signLocation,o.paramsSize=null==r?0:r.length,o.contractParams=null==r?[]:r,o.contractParams.forEach((function(t,e){1==t.isRequired&&"send"==t.fillby&&(n+=1),1==t.isRequired&&""!=t.value&&"send"==t.fillby&&(i+=1)})),o.fenZi=i,o.fenMu=n,0!=n?(n==i?(t.disabled1=!1,t.disabled2=!1,t.disableds=!1):i<n&&(t.disabled1=!1,t.disabled2=!1,t.disableds=!0),n=0,i=0):0==n&&(t.disableds=!1),t.attachlist.push(o)}}else t.disabled1=!0,t.disabled2=!0,t.disableds=!0}})),Object(m["b"])(e).then((function(e){200===e.code&&(t.signatory=e.data)})))},getrules:function(){var t=this;Object(c["e"])({status:"0"}).then((function(e){t.ruleList=e.data,t.ruleLists=t.ruleList}))},getTreeselect:function(){var t=this;Object(p["h"])().then((function(e){t.deptOptions=e.data,t.info.contractOwner=t.deptOptions[0].id}))},addUnit:function(){this.signatory.push({signatoryType:"0",companyName:"",name:"",telphone:"",email:"",userId:"",signType:"1"})},addPerson:function(){this.signatory.push({signatoryType:"1",companyName:"",name:"",telphone:"",email:"",userId:"",signType:""})},delUnit:function(t,e){this.signatory.splice(e,1)},handleUp:function(t){this.swapArray(this.signatory,t-1,t)},handleDown:function(t){this.swapArray(this.signatory,t,t+1)},swapArray:function(t,e,a){return t[e]=t.splice(a,1,t[e])[0],t},changeHandler:function(t){this.isTrue=2==t},changeisSeq:function(t){},handleClick:function(t){var e=this;this.active=t.themename,this.loadings=!0,this.showfouces=!0,this.disabledTime=!1,Object(c["d"])(t.id).then((function(a){o.a.merge(e.form,a.data);var n=JSON.parse(a.data.signatory);e.signatory=[];for(var i=0;i<n.length;i++){var s={};s.signatoryType=n[i].flag,2==n[i].flag?s.companyName=e.deptOptions[0].id:s.companyName="",s.name="",s.telphone="",s.email="",s.userId="",s.signType=n[i].signtype,e.signatory.push(s)}e.info.name=e.form.themename,e.info.contractRule=t.themename,e.info.contractType=t.id,e.info.isSeq=e.form.isseq,e.info.signStartDate=new Date,e.info.signEndDate=new Date;var r=0;r="1"==e.form.signtime?2592e5:864e5*e.form.days+36e5*e.form.hours,e.info.signEndDate.setTime(e.info.signEndDate.getTime()+r),e.attachlist=[];var l=JSON.parse(a.data.attachlist),c=0,u=0,d=0;if(null!=l){e.disabled1=!1,e.disabled2=!0,e.disableds=!0;for(var m=0;m<l.length;m++){var p={};p.contractId=e.contractid,p.templateId=l[m].templateid,p.contractDocUrl=l[m].url,p.contractPdfUrl=l[m].pdfurl,p.contractDocName=l[m].attachName,p.preimg=l[m].preimg,p.paramsSize=l[m].paramsSize,p.contractParams=l[m].templateparams,0!=l[m].templateparams.length&&l[m].templateparams.forEach((function(t,e){1==t.isRequired?c+=1:1==t.isRequired&&""!=t.value&&(u+=1)})),p.fenZi=u,p.fenMu=c,0!=c?(d+=1,c==u?(e.disabled1=!1,e.disabled2=!1,e.disableds=!1):u<c&&(e.disabled1=!1,e.disabled2=!1,e.disableds=!0)):0==c&&0==u&&0==d&&(e.disabled1=!1,e.disabled2=!0,e.disableds=!1),e.attachlist.push(p),c=0,u=0}e.loadings=!1}else e.disabled1=!0,e.disabled2=!0,e.disableds=!0,e.loadings=!1}))},position:function(){var t=this;this.signatory.forEach((function(e,a){t.$refs["all"+a][0].validate((function(t){t||(flag=!1)}))})),Promise.all([this.editinfo()]).then((function(e){0!=t.attachlist.length?t.$router.push("/sign/signlocation/"+t.contractid):t.$message({message:"没有要签署的文件。",type:"warning"}),t.$store.dispatch("tagsView/delView",t.$route)}))},editparams:function(){var t=this;this.signatory.forEach((function(e,a){t.$refs["all"+a][0].validate((function(t){t||(flag=!1)}))})),Promise.all([this.editinfo()]).then((function(e){0!=t.attachlist.length?t.$router.push("/sign/editparams/"+t.contractid):t.$message({message:"没有要签署的文件。",type:"warning"}),t.$store.dispatch("tagsView/delView",t.$route)}))},sendContact:function(){var t=this;this.signatory.forEach((function(e,a){t.$refs["all"+a][0].validate((function(t){t||(flag=!1)}))})),Promise.all([this.editinfo()]).then((function(e){0!=t.attachlist.length?Object(u["g"])(t.info).then((function(e){200===e.code&&Object(d["e"])(t.contractid).then((function(e){if(200===e.code){var a=e.buttonType;"1"==a?t.$router.push("/sign/editparams/"+t.contractid):"2"==a?t.$router.push("/sign/send/"+t.contractid):t.$router.push("/contact/info/infoXq/"+t.contractid)}}))})):t.$message({message:"没有要签署的文件。",type:"warning"}),t.$store.dispatch("tagsView/delView",t.$route)}))},deleteFile:function(t){this.attachlist.splice(t,1)},preview:function(t){t.contractDocName,t.contractDocUrl;var e=t.contractPdfUrl;this.pdfurl="/prod-api"+e,this.getNumPages(),this.ispreview=!0},getNumPages:function(){var t=this,e=g["a"].createLoadingTask(this.pdfurl);e.promise.then((function(e){t.numPages=e.numPages}))},dialogClose:function(){},shuffle:function(){this.attachlist=this.$shuffle(this.attachlist)},dragstart:function(t){this.dragIndex=t},dragenter:function(t,e){if(t.preventDefault(),this.dragIndex!==e){var a=this.attachlist[this.dragIndex];this.attachlist.splice(this.dragIndex,1),this.attachlist.splice(e,0,a),this.dragIndex=e}},dragover:function(t,e){t.preventDefault()},editSignatory:function(){var t=this,e=!0;this.signatory.forEach((function(a,n){t.$refs["all"+n][0].validate((function(t){t||(e=!1)}))})),e&&Object(m["d"])({contractid:this.contractid,signatory:this.signatory}).then((function(t){t.code}))},editinfo:function(){var t=this,e={};return e.contractInfo=this.info,e.attachlist=this.attachlist,this.signatoryChange||(e.signatory=this.signatory),null!=this.info.id||void 0!=this.info.id?new Promise((function(a,n){Object(u["h"])(e).then((function(e){200===e.code&&(a(t.contractid),t.getList())}))})):new Promise((function(a,n){Object(u["a"])(e).then((function(e){200===e.code&&(t.contractid=e.msg,a(t.contractid),t.getList())}))}))},attachlistchange:function(){var t={contractInfo:this.info,attachlist:this.attachlist,flag:"0"};Object(u["h"])(t).then((function(t){t.code}))},savedraft:function(){var t=this;this.signatory.forEach((function(e,a){t.$refs["all"+a][0].validate((function(t){t||(flag=!1)}))})),void 0!=this.info.name&&0!=this.info.name.length?this.$confirm("暂存为草稿?","提示",{confirmButtonText:"确定"}).then((function(){t.editinfo()})):this.$message({message:"没有选择要发起的签约。",type:"warning"})},editLabel:function(){alert("敬请期待")},handleFileLoad:function(t,e,a){this.loadings=!0},handleFileSuccess:function(t,e,a){if(this.loadings=!1,200===t.code){var n=t.data;this.attachlist.push({contractId:this.contractid,templateId:"",contractDocUrl:n.docpath,contractPdfUrl:n.pdfpath,preimg:n.preimg,contractDocName:e.name})}},downloadExcel:function(){var t="/profile/othertemplate/批量发起模板.xlsx",e="批量发起模板.xlsx";this.resourcedownload(t,e)},uploadExcel:function(){},addonline:function(){var t=this;Object(b["f"])(this.queryParamss).then((function(e){t.tempList=e.rows,t.temptotal=e.total,t.online=!0}))},handleSelectionChange:function(t){this.tempselect=t},handleRowClick:function(t,e,a){this.$refs.multipleTable.toggleRowSelection(t)},selecttemp:function(){this.loadings=!0;for(var t=0,e=0,a=0;a<this.tempselect.length;a++){var n={contractid:""};n.templateid=this.tempselect[a].id,n.ruleid=this.rule_id,n.contractDocUrl=this.tempselect[a].templatepath,n.contractPdfUrl=this.tempselect[a].templatepdfpath,n.preimg=this.tempselect[a].preimg,n.contractDocName=this.tempselect[a].name,n.contractParams=JSON.parse(this.tempselect[a].templateparams),n.contractParams.forEach((function(a,n){1==a.isRequired?t+=1:1==a.isRequired&&""!=a.value&&(e+=1)})),n.fenZi=e,n.fenMu=t,n.paramsSize=JSON.parse(this.tempselect[a].templateparams).length,this.attachlist.push(n),t=0,e=0}this.online=!1,this.loadings=!1,this.editinfo()},adminTochinese:function(t){var e="";if(t){var a=t.split(",");if(this.userOptions.length>0)for(var n=0;n<a.length;n++)for(var i=0;i<this.userOptions.length;i++)if(a[n]==this.userOptions[i].userName){e+=this.userOptions[i].nickName+" ,  ";break}}return e=e.replaceAll(" ",""),e.lastIndexOf(",")==e.length-1&&(e=e.substring(0,e.lastIndexOf(","))),e},pickUser:function(){var t=this;Object(y["l"])().then((function(e){t.userOptions=e.data}))},templateQuery:function(){this.loading=!0,this.getTemList(),this.queryParamss.page=1},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.resetForm("queryForm1"),this.templateQuery()},getTemList:function(){var t=this;this.loading=!0,Object(b["f"])(this.addDateRange(this.queryParamss,this.dateRange)).then((function(e){t.tempList=e.rows,t.total=e.total,t.loading=!1}))},handleQuery:function(){if(""!=this.queryParams.themename){this.ruleLists=[];for(var t=0;t<this.ruleList.length;t++)-1!=this.ruleList[t].themename.indexOf(this.queryParams.themename)&&this.ruleLists.push(this.ruleList[t])}else this.ruleLists=this.ruleList}}},w=v,x=(a("273c"),a("0c7c")),S=Object(x["a"])(w,n,i,!1,null,"353199ae",null);e["default"]=S.exports},ee23:function(t,e,a){},ee7c:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"g",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"e",(function(){return u}));var n=a("b775");function i(t){return Object(n["a"])({url:"/sign/signrules/list",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/sign/signrules/"+t,method:"get"})}function r(t){return Object(n["a"])({url:"/sign/signrules",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/sign/signrules",method:"put",data:t})}function l(t){return Object(n["a"])({url:"/sign/signrules/"+t,method:"delete"})}function c(t){return Object(n["a"])({url:"/sign/signrules/export",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/sign/signrules/rulelist",method:"get",params:t})}}}]);